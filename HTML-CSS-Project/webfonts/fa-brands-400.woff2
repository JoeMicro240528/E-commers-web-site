1
1

00:00:01,582  -->  00:00:04,247
<v Jonas>Welcome back to the project.</v>
2

2

00:00:04,247  -->  00:00:06,519
And in this lecture, we're gonna set up
3

3

00:00:06,519  -->  00:00:10,686
our first event listener to handle our input button.
4

4

00:00:12,265  -->  00:00:15,670
So, the new things that you're gonna learn in this lecture
5

5

00:00:15,670  -->  00:00:17,902
is how to set up event listeners
6

6

00:00:17,902  -->  00:00:20,724
specifically for keypress events,
7

7

00:00:20,724  -->  00:00:23,895
and you will also learn what the event object is
8

8

00:00:23,895  -->  00:00:25,395
and how to use it.
9

9

00:00:27,539  -->  00:00:30,590
But, let's start by cleaning up our code here,
10

10

00:00:30,590  -->  00:00:33,066
because I wanna get rid of all of this,
11

11

00:00:33,066  -->  00:00:37,233
because this was just to show you how everything works.
12

12

00:00:38,134  -->  00:00:39,884
And, up here as well.
13

13

00:00:42,020  -->  00:00:43,770
So let's delete this.
14

14

00:00:45,044  -->  00:00:46,211
So, some code.
15

15

00:00:47,085  -->  00:00:50,168
And I'll give it some structure here.
16

16

00:00:53,946  -->  00:00:56,696
So this is the budget controller.
17

17

00:01:01,519  -->  00:01:04,221
Give it some more space here.
18

18

00:01:04,221  -->  00:01:05,721
The UI controller.
19

19

00:01:07,556  -->  00:01:09,889
And then, finally,
20

20

00:01:09,889  -->  00:01:12,889
let's say the global app controller.
21

21

00:01:13,834  -->  00:01:14,667
All right.
22

22

00:01:16,278  -->  00:01:18,676
So I'm gonna set up the event listener
23

23

00:01:18,676  -->  00:01:22,315
for the input button right here in our controller,
24

24

00:01:22,315  -->  00:01:25,923
because this is the central place where I want to decide,
25

25

00:01:25,923  -->  00:01:30,341
so where I want to control what happens upon each event,
26

26

00:01:30,341  -->  00:01:34,767
and then delegate these tasks to the other controllers.
27

27

00:01:34,767  -->  00:01:36,311
Okay, and we already know
28

28

00:01:36,311  -->  00:01:38,947
how to set up event listeners, right?
29

29

00:01:38,947  -->  00:01:41,161
So, we first select an element,
30

30

00:01:41,161  -->  00:01:44,491
and then attach it the event listener.
31

31

00:01:44,491  -->  00:01:47,242
So we use the querySelector method.
32

32

00:01:47,242  -->  00:01:49,492
So, document.querySelector,
33

33

00:01:51,659  -->  00:01:54,240
and you remember that one, right?
34

34

00:01:54,240  -->  00:01:56,315
And now we need to know the class
35

35

00:01:56,315  -->  00:01:59,424
or the ID name of this button.
36

36

00:01:59,424  -->  00:02:04,233
So in order to do that, let's check out our HTML file.
37

37

00:02:04,233  -->  00:02:07,835
And then I will just try to grab the class name.
38

38

00:02:07,835  -->  00:02:11,897
So we see that down here, we have the button, all right.
39

39

00:02:11,897  -->  00:02:14,990
So this is the class that is attached to this button.
40

40

00:02:14,990  -->  00:02:16,676
So I'm gonna copy it.
41

41

00:02:16,676  -->  00:02:18,595
And, actually, we should probably
42

42

00:02:18,595  -->  00:02:21,962
take a closer look at all this markup structure,
43

43

00:02:21,962  -->  00:02:24,157
but I'm gonna leave that for later, okay.
44

44

00:02:24,157  -->  00:02:26,626
So, for now, I'm just going to grab this class name here,
45

45

00:02:26,626  -->  00:02:29,793
but later, we're going to look better at the structure
46

46

00:02:29,793  -->  00:02:33,129
of this HTML file, so that we can better understand
47

47

00:02:33,129  -->  00:02:35,682
our user interface, okay.
48

48

00:02:35,682  -->  00:02:39,557
So let's move back here and paste it here.
49

49

00:02:39,557  -->  00:02:41,476
So the add button, and this, remember,
50

50

00:02:41,476  -->  00:02:44,683
is the class selector, because it is a class.
51

51

00:02:44,683  -->  00:02:47,101
And since this is how we select with CSS,
52

52

00:02:47,101  -->  00:02:49,806
remember, this is done the exact same way
53

53

00:02:49,806  -->  00:02:51,514
after we select using the querySelector,
54

54

00:02:51,514  -->  00:02:55,681
because it uses the same syntax as the CSS selectors.
55

55

00:02:56,787  -->  00:02:58,799
Okay, and now all we need to do
56

56

00:02:58,799  -->  00:03:01,988
is to use the addEventListener method, right?
57

57

00:03:01,988  -->  00:03:05,468
And what we want is the click event,
58

58

00:03:05,468  -->  00:03:08,395
and then the function that gets executed
59

59

00:03:08,395  -->  00:03:11,812
as soon as the user clicks on the button.
60

60

00:03:12,791  -->  00:03:13,624
All right.
61

61

00:03:15,952  -->  00:03:20,119
So, just to test this, let's create a console.log here.
62

62

00:03:22,164  -->  00:03:24,081
So, button was clicked.
63

63

00:03:26,511  -->  00:03:28,782
And let's check this out.
64

64

00:03:28,782  -->  00:03:29,699
So, reload.
65

65

00:03:31,179  -->  00:03:34,209
And, clicking the button, all right.
66

66

00:03:34,209  -->  00:03:35,834
So, button was clicked.
67

67

00:03:35,834  -->  00:03:36,667
So it works.
68

68

00:03:36,667  -->  00:03:39,417
Event handler is properly set up.
69

69

00:03:40,504  -->  00:03:41,380
All right.
70

70

00:03:41,380  -->  00:03:42,777
So this was just a test.
71

71

00:03:42,777  -->  00:03:45,468
Now, of course, we cannot yet write the code in here,
72

72

00:03:45,468  -->  00:03:48,486
but we can write what we want to happen here later,
73

73

00:03:48,486  -->  00:03:51,784
so we can, basically, create a to-do list in here,
74

74

00:03:51,784  -->  00:03:53,028
which is basically the to-do list
75

75

00:03:53,028  -->  00:03:56,167
that we did in the planning lecture.
76

76

00:03:56,167  -->  00:03:58,958
So, as soon as someone hits the button,
77

77

00:03:58,958  -->  00:04:02,293
we first need to get the input data, right?
78

78

00:04:02,293  -->  00:04:04,710
So, get the field input data.
79

79

00:04:07,271  -->  00:04:10,688
Okay, after that, we need to add the item
80

80

00:04:12,205  -->  00:04:14,288
to the budget controller.
81

81

00:04:17,241  -->  00:04:19,766
So, here, we're basically creating a recipe
82

82

00:04:19,766  -->  00:04:22,183
for what we're gonna do next.
83

83

00:04:23,565  -->  00:04:26,027
Then, we need to add the new item
84

84

00:04:26,027  -->  00:04:28,527
to the user interface as well.
85

85

00:04:32,886  -->  00:04:35,553
We need to calculate the budget.
86

86

00:04:42,553  -->  00:04:45,720
And we also need to display the budget
87

87

00:04:49,487  -->  00:04:51,592
on the user interface.
88

88

00:04:51,592  -->  00:04:52,971
All right.
89

89

00:04:52,971  -->  00:04:56,053
And let's create some space here.
90

90

00:04:56,053  -->  00:04:57,549
So this is what we're going to do
91

91

00:04:57,549  -->  00:05:00,323
as soon as someone hits the button, right?
92

92

00:05:00,323  -->  00:05:02,406
So we get the input data.
93

93

00:05:04,038  -->  00:05:06,990
We then add the item to the budget controller,
94

94

00:05:06,990  -->  00:05:10,066
to the user interface, and then we calculate this budget
95

95

00:05:10,066  -->  00:05:12,220
and display them.
96

96

00:05:12,220  -->  00:05:16,379
So, over the next lectures, we're going to focus on that,
97

97

00:05:16,379  -->  00:05:19,125
but for now, there's one more thing that we need to do,
98

98

00:05:19,125  -->  00:05:22,094
because we not only want all of this here
99

99

00:05:22,094  -->  00:05:25,394
to happen when someone hits the button, but also,
100

100

00:05:25,394  -->  00:05:28,924
when someone hits the return key, so, the enter key.
101

101

00:05:28,924  -->  00:05:30,507
So, let's see this.
102

102

00:05:32,012  -->  00:05:33,262
So imagine that
103

103

00:05:36,624  -->  00:05:41,476
someone writes something in here, let's say, project.
104

104

00:05:41,476  -->  00:05:44,189
Then a value here, and then instead
105

105

00:05:44,189  -->  00:05:48,247
of hitting this button here, hits the return key.
106

106

00:05:48,247  -->  00:05:50,949
So in this case, we also want all of that to happen.
107

107

00:05:50,949  -->  00:05:53,331
We also want to get the input data,
108

108

00:05:53,331  -->  00:05:55,979
we want to add the item to the user interface,
109

109

00:05:55,979  -->  00:05:58,007
and to the controller, and all of that.
110

110

00:05:58,007  -->  00:06:00,449
So it should be the exact same thing.
111

111

00:06:00,449  -->  00:06:04,616
So, not only the click event, but also a keypress event.
112

112

00:06:06,501  -->  00:06:08,814
And this is something new, so we did never
113

113

00:06:08,814  -->  00:06:12,433
use the keypress event, so let's now do that.
114

114

00:06:12,433  -->  00:06:15,683
So we need another event listener here.
115

115

00:06:16,659  -->  00:06:19,350
But now we're gonna do it in a slightly different way.
116

116

00:06:19,350  -->  00:06:22,137
We're not going to select anything.
117

117

00:06:22,137  -->  00:06:25,994
We will just add this event listener to the global document.
118

118

00:06:25,994  -->  00:06:27,175
Okay?
119

119

00:06:27,175  -->  00:06:28,758
So, just like this,
120

120

00:06:30,121  -->  00:06:33,337
document, and then, addEventListener.
121

121

00:06:33,337  -->  00:06:35,746
And that's because this keypress event
122

122

00:06:35,746  -->  00:06:38,365
doesn't happen on any specific element,
123

123

00:06:38,365  -->  00:06:40,451
but it happens on the global web page,
124

124

00:06:40,451  -->  00:06:43,325
so on the global document, anywhere in the document.
125

125

00:06:43,325  -->  00:06:44,158
Right?
126

126

00:06:45,632  -->  00:06:48,442
Now, there are actually more than one type of event
127

127

00:06:48,442  -->  00:06:51,269
that handles when someone presses a key.
128

128

00:06:51,269  -->  00:06:54,792
So let's look at the event reference
129

129

00:06:54,792  -->  00:06:56,619
that I have already open here, okay.
130

130

00:06:56,619  -->  00:06:59,761
So this is the reference for all the JavaScript events,
131

131

00:06:59,761  -->  00:07:01,935
or the DOM events, and you can find this
132

132

00:07:01,935  -->  00:07:05,173
on my resources page as well.
133

133

00:07:05,173  -->  00:07:07,488
But now, I already have it here open.
134

134

00:07:07,488  -->  00:07:09,833
And so, here, we see the keyboard events,
135

135

00:07:09,833  -->  00:07:11,589
and there are actually three.
136

136

00:07:11,589  -->  00:07:15,601
So, keydown is when we start pressing the key,
137

137

00:07:15,601  -->  00:07:17,287
so any keys pressed.
138

138

00:07:17,287  -->  00:07:19,876
And then, the keypress event is when the key
139

139

00:07:19,876  -->  00:07:22,025
is already in the pressed position,
140

140

00:07:22,025  -->  00:07:26,343
and then the keyup event is after we release the key.
141

141

00:07:26,343  -->  00:07:28,268
So, for us, there is no need
142

142

00:07:28,268  -->  00:07:31,504
to use the keydown or keyup events.
143

143

00:07:31,504  -->  00:07:33,185
We're simply going to use the
144

144

00:07:33,185  -->  00:07:35,983
more common keypress event here, okay?
145

145

00:07:35,983  -->  00:07:39,910
And, remember, this is when any key is pressed,
146

146

00:07:39,910  -->  00:07:41,587
not just the enter or the return key,
147

147

00:07:41,587  -->  00:07:44,320
but this is for any key, right?
148

148

00:07:44,320  -->  00:07:47,052
So we'll need to talk about that in a second.
149

149

00:07:47,052  -->  00:07:50,053
But first, let's use the keypress event here.
150

150

00:07:50,053  -->  00:07:51,136
So, keypress.
151

151

00:07:52,726  -->  00:07:55,226
And then, again, our function.
152

152

00:07:56,859  -->  00:07:58,192
Like this, okay.
153

153

00:07:59,884  -->  00:08:02,769
Now, we actually only want to execute some code
154

154

00:08:02,769  -->  00:08:05,305
when the user hits the return key, right?
155

155

00:08:05,305  -->  00:08:07,688
Not just some random key on the keyboard.
156

156

00:08:07,688  -->  00:08:09,711
So, how are we going to do that?
157

157

00:08:09,711  -->  00:08:14,129
And the key to this is that this function here
158

158

00:08:14,129  -->  00:08:16,877
that is passed into the event listener
159

159

00:08:16,877  -->  00:08:20,323
can receive an argument, which is the event argument.
160

160

00:08:20,323  -->  00:08:22,221
And this is something that we have not been,
161

161

00:08:22,221  -->  00:08:23,752
up until this point,
162

162

00:08:23,752  -->  00:08:25,405
so we've been using this function here,
163

163

00:08:25,405  -->  00:08:27,266
this anonymous function, in this case,
164

164

00:08:27,266  -->  00:08:29,675
all the time without any parameters.
165

165

00:08:29,675  -->  00:08:32,020
But now we're gonna use it for the first time,
166

166

00:08:32,020  -->  00:08:34,536
and I'm gonna call it event.
167

167

00:08:34,536  -->  00:08:37,495
And actually, we can use any name for this that we want,
168

168

00:08:37,495  -->  00:08:40,379
and then use it in our event listener function.
169

169

00:08:40,379  -->  00:08:42,688
But I'm just going to do it event here.
170

170

00:08:42,688  -->  00:08:45,131
Another popular name that developers use
171

171

00:08:45,131  -->  00:08:49,908
is simply e, like this, but I'm going to go with event,
172

172

00:08:49,908  -->  00:08:52,788
so that we are sure what this means.
173

173

00:08:52,788  -->  00:08:54,799
So, this automatically gets passed
174

174

00:08:54,799  -->  00:08:57,684
into our event handler by the browser,
175

175

00:08:57,684  -->  00:08:59,090
and there's nothing we have to do,
176

176

00:08:59,090  -->  00:09:01,788
so we just need to specify it here,
177

177

00:09:01,788  -->  00:09:03,554
and then we can use it.
178

178

00:09:03,554  -->  00:09:07,167
And just to see what this event object actually is,
179

179

00:09:07,167  -->  00:09:10,168
let's start by logging it into the console.
180

180

00:09:10,168  -->  00:09:11,501
So, console.log,
181

181

00:09:13,327  -->  00:09:14,160
event.
182

182

00:09:15,219  -->  00:09:17,169
And remember, this is going to happen
183

183

00:09:17,169  -->  00:09:21,336
when we press any key, so not just the return key.
184

184

00:09:22,710  -->  00:09:24,249
So, take a look at the console,
185

185

00:09:24,249  -->  00:09:27,865
and I'm going to hit a button now.
186

186

00:09:27,865  -->  00:09:31,532
All right, and here we have a keyword event.
187

187

00:09:34,207  -->  00:09:37,121
So this is simply an object, as we can see,
188

188

00:09:37,121  -->  00:09:39,466
with a lot of properties.
189

189

00:09:39,466  -->  00:09:43,980
And it has a prototype, so just for the sake of curiosity,
190

190

00:09:43,980  -->  00:09:45,376
let's take a look at that.
191

191

00:09:45,376  -->  00:09:48,758
So, a keyword event is the prototype,
192

192

00:09:48,758  -->  00:09:53,043
and this one has also a prototype, which is in the UI event.
193

193

00:09:53,043  -->  00:09:55,386
So this means that the keyword event
194

194

00:09:55,386  -->  00:09:59,369
is a UI, in the user interface, event.
195

195

00:09:59,369  -->  00:10:03,077
And this one is also a prototype, which is an event,
196

196

00:10:03,077  -->  00:10:06,169
and this one is also a prototype, the object.
197

197

00:10:06,169  -->  00:10:08,589
And that's it, so we know that the object
198

198

00:10:08,589  -->  00:10:11,941
is usually the last one in a prototype chain, right?
199

199

00:10:11,941  -->  00:10:14,715
So we can use all of this here
200

200

00:10:14,715  -->  00:10:17,049
with the keyboard event, right?
201

201

00:10:17,049  -->  00:10:20,393
And you know that already, because of the prototype chain.
202

202

00:10:20,393  -->  00:10:23,913
But right now, I want you to focus on something else,
203

203

00:10:23,913  -->  00:10:26,267
which is this keyCode property here.
204

204

00:10:26,267  -->  00:10:28,997
So here, you see a keycode and a number,
205

205

00:10:28,997  -->  00:10:31,667
and this number is what identifies
206

206

00:10:31,667  -->  00:10:33,679
the key that we pressed, so right now,
207

207

00:10:33,679  -->  00:10:37,176
I pressed a key, and the keycode is 107.
208

208

00:10:37,176  -->  00:10:39,593
But a different key will have another one.
209

209

00:10:39,593  -->  00:10:42,260
So let me press now another key.
210

210

00:10:43,383  -->  00:10:47,274
So I'm going to press the space key now.
211

211

00:10:47,274  -->  00:10:49,689
Actually, it has to be here in the document.
212

212

00:10:49,689  -->  00:10:52,106
So, I press the space button.
213

213

00:10:53,094  -->  00:10:56,432
And this time, the key code is 32.
214

214

00:10:56,432  -->  00:11:00,015
And now, I'm going to press the return key.
215

215

00:11:00,987  -->  00:11:03,070
Again, it has to be here.
216

216

00:11:04,473  -->  00:11:08,223
So, the enter key, and now the keycode is 13.
217

217

00:11:09,320  -->  00:11:12,419
So this keycode here is what we're gonna use
218

218

00:11:12,419  -->  00:11:14,677
to say that we only want something to happen
219

219

00:11:14,677  -->  00:11:16,188
when this keycode was pressed.
220

220

00:11:16,188  -->  00:11:19,396
So, in this case, that the enter key was pressed.
221

221

00:11:19,396  -->  00:11:23,358
And in case that you ever need the keycode for another key,
222

222

00:11:23,358  -->  00:11:25,137
I have this cool reference here,
223

223

00:11:25,137  -->  00:11:27,838
which you can also find on the resource pages,
224

224

00:11:27,838  -->  00:11:30,599
and in here, if we hit some button here,
225

225

00:11:30,599  -->  00:11:32,146
then we have the keycode.
226

226

00:11:32,146  -->  00:11:34,529
So, again, the enter key is 13,
227

227

00:11:34,529  -->  00:11:38,761
the space is 32, and this happens on any other key here.
228

228

00:11:38,761  -->  00:11:39,681
Okay?
229

229

00:11:39,681  -->  00:11:42,041
So, just a cool reference.
230

230

00:11:42,041  -->  00:11:45,771
So let's now go back and use this knowledge, okay.
231

231

00:11:45,771  -->  00:11:48,430
So what we're going to do is,
232

232

00:11:48,430  -->  00:11:52,402
as you can probably guess, an if statement.
233

233

00:11:52,402  -->  00:11:55,494
So we're going to use the event,
234

234

00:11:55,494  -->  00:11:58,016
and then they keyCode property.
235

235

00:11:58,016  -->  00:12:00,683
And we say that it should be 13.
236

236

00:12:02,651  -->  00:12:06,778
And if it's 13, so, if it's the return key,
237

237

00:12:06,778  -->  00:12:09,195
then let's log to the console
238

238

00:12:10,212  -->  00:12:12,129
that enter was pressed.
239

239

00:12:16,199  -->  00:12:17,398
Now, some older browsers,
240

240

00:12:17,398  -->  00:12:20,173
they don't use this keyCode property here.
241

241

00:12:20,173  -->  00:12:22,916
They use another property called which,
242

242

00:12:22,916  -->  00:12:26,106
and so, it's a good practice to use that as well,
243

243

00:12:26,106  -->  00:12:30,669
and so we're simply going to use an or operator here,
244

244

00:12:30,669  -->  00:12:32,419
and say, event.which,
245

245

00:12:34,883  -->  00:12:36,215
13.
246

246

00:12:36,215  -->  00:12:40,299
So, if the keycode is 13 or the which property is 13,
247

247

00:12:40,299  -->  00:12:41,312
then this happens.
248

248

00:12:41,312  -->  00:12:43,504
So, again, this is for more older browsers,
249

249

00:12:43,504  -->  00:12:45,688
or other browsers that simply don't have
250

250

00:12:45,688  -->  00:12:49,087
this keyCode property, and in this case, we're also safe,
251

251

00:12:49,087  -->  00:12:51,134
because then we have this part here.
252

252

00:12:51,134  -->  00:12:53,689
So let's now test this.
253

253

00:12:53,689  -->  00:12:55,312
So I'm refreshing.
254

254

00:12:55,312  -->  00:12:58,324
And now, I'm hitting some random keys here.
255

255

00:12:58,324  -->  00:13:00,239
As you can hear, probably.
256

256

00:13:00,239  -->  00:13:01,763
And nothing happens in the console, right.
257

257

00:13:01,763  -->  00:13:04,586
And now I'm going to hit the enter key.
258

258

00:13:04,586  -->  00:13:05,464
Okay.
259

259

00:13:05,464  -->  00:13:06,862
Enter was pressed.
260

260

00:13:06,862  -->  00:13:08,112
So, this works.
261

261

00:13:09,002  -->  00:13:12,250
Now, what do we want to happen here?
262

262

00:13:12,250  -->  00:13:14,830
Because we don't want to console.log, of course.
263

263

00:13:14,830  -->  00:13:16,415
But we want something to happen.
264

264

00:13:16,415  -->  00:13:19,968
Which is, as you can guess, the exact same thing
265

265

00:13:19,968  -->  00:13:24,263
what we want to happen when someone hits the input button.
266

266

00:13:24,263  -->  00:13:25,782
So we could copy this code
267

267

00:13:25,782  -->  00:13:29,018
that we're later gonna write here and paste it here.
268

268

00:13:29,018  -->  00:13:31,581
But, as you probably know,
269

269

00:13:31,581  -->  00:13:33,441
this doesn't make any sense at all,
270

270

00:13:33,441  -->  00:13:36,045
because that would completely disrespect
271

271

00:13:36,045  -->  00:13:40,237
the DRY, the don't repeat yourself, principle.
272

272

00:13:40,237  -->  00:13:44,021
So, the solution is, once again, to write a custom function.
273

273

00:13:44,021  -->  00:13:46,104
So let's do that up here.
274

274

00:13:47,347  -->  00:13:51,680
And I'm going to call this one the ctrlAddItem function.
275

275

00:13:51,680  -->  00:13:52,513
So, var,
276

276

00:13:54,974  -->  00:13:55,974
ctrlAddItem,
277

277

00:13:57,657  -->  00:14:00,170
and I'm going to prepend this control here
278

278

00:14:00,170  -->  00:14:03,247
to this function name, because there may be
279

279

00:14:03,247  -->  00:14:06,164
functions with similar names in the other controllers,
280

280

00:14:06,164  -->  00:14:08,378
and I wanna be able to distinguish them.
281

281

00:14:08,378  -->  00:14:11,795
So I am already planning with that, okay?
282

282

00:14:13,066  -->  00:14:14,233
So, a function
283

283

00:14:16,012  -->  00:14:19,956
which simply will do all of this here.
284

284

00:14:19,956  -->  00:14:23,225
So this is not real code, of course,
285

285

00:14:23,225  -->  00:14:27,956
but this will then be where we specify all of this actions.
286

286

00:14:27,956  -->  00:14:29,421
So now, what we're doing here
287

287

00:14:29,421  -->  00:14:32,225
is to simply call this function,
288

288

00:14:32,225  -->  00:14:34,451
so in case that someone hits the return key,
289

289

00:14:34,451  -->  00:14:37,868
we want to call the ctrlAddItem function.
290

290

00:14:39,437  -->  00:14:40,604
And that's it.
291

291

00:14:42,198  -->  00:14:44,869
And now, here, the same thing.
292

292

00:14:44,869  -->  00:14:47,332
So I'm going to remove this from here,
293

293

00:14:47,332  -->  00:14:49,919
so we no longer want the anonymous function here,
294

294

00:14:49,919  -->  00:14:51,422
but we actually want to pass
295

295

00:14:51,422  -->  00:14:53,818
the ctrlAddItem function in here.
296

296

00:14:53,818  -->  00:14:55,108
And we already did that before,
297

297

00:14:55,108  -->  00:14:57,030
actually, in our other project.
298

298

00:14:57,030  -->  00:14:59,528
So it doesn't have to be an anonymous function.
299

299

00:14:59,528  -->  00:15:02,614
We can simply pass a function that we have,
300

300

00:15:02,614  -->  00:15:05,113
a standalone function, pass it here
301

301

00:15:05,113  -->  00:15:07,575
into the addEventListener method.
302

302

00:15:07,575  -->  00:15:09,301
And, again, we're not going to call it here,
303

303

00:15:09,301  -->  00:15:11,642
so we don't need this call operator,
304

304

00:15:11,642  -->  00:15:14,375
because this is a callback, and so,
305

305

00:15:14,375  -->  00:15:17,565
the addEventListener method will call it for us
306

306

00:15:17,565  -->  00:15:18,981
when needed, so, when necessary,
307

307

00:15:18,981  -->  00:15:21,675
so when someone clicks the button.
308

308

00:15:21,675  -->  00:15:24,175
So, just to finally test this,
309

309

00:15:25,300  -->  00:15:28,633
let's log something to the console here.
310

310

00:15:30,197  -->  00:15:33,030
Doesn't matter here, so, it works.
311

311

00:15:34,847  -->  00:15:36,097
And, all right.
312

312

00:15:37,622  -->  00:15:39,671
So I'm going to hit the space key,
313

313

00:15:39,671  -->  00:15:42,213
nothing happens, and now, the return key.
314

314

00:15:42,213  -->  00:15:45,434
So it works, and now, I'm going to hit this key here,
315

315

00:15:45,434  -->  00:15:49,673
sorry, this button here, and so it should appear again.
316

316

00:15:49,673  -->  00:15:50,791
And, yes.
317

317

00:15:50,791  -->  00:15:52,791
Here it is, so it works.
318

318

00:15:54,111  -->  00:15:54,944
All right.
319

319

00:15:54,944  -->  00:15:58,248
So now we're all set up to start adding some code
320

320

00:15:58,248  -->  00:15:59,829
to our event listeners.
321

321

00:15:59,829  -->  00:16:02,912
So let's do that in the next lecture.
                                                                                                                                                                                                                                                                                                         ‹Ê~ïşĞ	ï‰Ğ»Ş¿x¿ñ^÷^e$ûô¼ì'¹û™Í°RJBB|¼]oo¦¯…C­ÛèàñfúqSüĞvß4TçÄÓp<]OãYÆP.¯…RHq„Vum}¨o/®ÿ¡záÂââúözH*®êÛÙ– ­KqBÈ+šläæ4OÀÒC·LuLzeë#Ö–¬6pèôÆdgÁ}%Ûú¹ò—
Õdçò‡–Ohø‡Ûq7î-OŞÑÜ¾…»¾¹ é±öc6ŒÅ^O†èÒuVÂ;œVh:*9z“Ñpvn£Óy]œ³S×ÅıÏºs®S×©²ª ÎªÊ¦<jÖYcZ.£SËÙì‚h¬•¢MtT»ãv-GĞ'SsÿFÉM}a`§Šª[W?9kïµÑo€ëÑ/´øğ„§¸g„g”§ôÂizš;-œÏÈg”3ú3†3¦3æ3êëi;‚Ôq§]—è%ÍÁo£mâ?åÜğÛC’lƒ%«Ñpİ³êx
ï}äŒ[¡ò¿úïğâ©Š-éÌOgş{:óßÓ™ÿ«)àÀ`vĞ–Å$RX ¨Lœ’¦­xa”áKq3.G?¥ËßÑ@ôÓï¶D"[ŠD0©::èÈhSGGô@ã—çÎ~ùåÙs_2ß):R¸}gXùTxô!ÄÏsï%@µ¬vïwÿÁıøwùs×Y÷CÍñqv‡ÇÔ´,[% gƒjöÄ¨€ÍâWÕësVÎêñÿäAÁ)[‡ØØÿ j¦?S†š5üŒkÊ·Sº ³È 3¹:k+…š¹Ó‚²Ì…ÂDø¿ûPÑ‘’%Úã/Šá­‘Şbö§9\ş´ü¢ë"ü
¡x~E¼``(ËÇ‚9˜NŸÁê¶”3×R†—i°šíVğÅâõ»c°*ñ6XÅ¢ë± *3D· ª[ıKæZædj®%aNf7Ötù—ó/±äÿ—şÏ^Åµïù†ÛğÏuè„0äÇŠ|À	Û¼&½"qz=áLPœD`”ı:âµsV˜íDÌqìD>]]×Ìolş40f‹ ZS¥hÕJbAæ'€Ó5ï]@Ó1%wıè„Ïjkæøf¾3	3¾áQt^‡²kWû}šıÙ¹^€öö¤Ã¸¤’Cs¸œıuıõ½{û§%aokòı–ûÕÅÁÅI‹C‹“7ÙŸIÛ—vÔÖl?Ôó=İ{ú‹:ìVÑµê™Ñd›t	ºD‰RKœÅåÅv¼q=\Åd8)”ï&ãã‚sÉ,Ã,Ó,ó,K­¿6ğ YfXf\fZf^æZæ^ê_hÀøıäHàHğ´é1
1

00:00:01,466  -->  00:00:02,354
<v Instructor>We have learned a lot</v>
2

2

00:00:02,354  -->  00:00:05,762
of theory up until this point, but now,
3

3

00:00:05,762  -->  00:00:07,622
you are ready to understand one
4

4

00:00:07,622  -->  00:00:10,068
of the most crucial and advanced things
5

5

00:00:10,068  -->  00:00:12,318
about JavaScript: closures,
6

6

00:00:13,208  -->  00:00:14,397
and this is probably one
7

7

00:00:14,397  -->  00:00:18,815
of the most difficult-to-understand topics for beginners,
8

8

00:00:18,815  -->  00:00:21,932
but you already know everything that you need
9

9

00:00:21,932  -->  00:00:25,121
in order to understand and use closures.
10

10

00:00:25,121  -->  00:00:28,288
So let's dive right into this lecture.
11

11

00:00:29,905  -->  00:00:32,517
So as our example for this lecture,
12

12

00:00:32,517  -->  00:00:34,233
we want to write a small function
13

13

00:00:34,233  -->  00:00:35,930
that returns a function
14

14

00:00:35,930  -->  00:00:39,840
which calculates how many years we have until retirement.
15

15

00:00:39,840  -->  00:00:41,923
So let's quickly do that.
16

16

00:00:43,070  -->  00:00:47,153
So function, and let's simply call it retirement,
17

17

00:00:49,288  -->  00:00:52,620
and we pass into it the retirementAge,
18

18

00:00:52,620  -->  00:00:56,787
so the age at which someone can officially retire.
19

19

00:00:58,277  -->  00:01:00,034
So for example, here in Europe,
20

20

00:01:00,034  -->  00:01:02,534
it's mainly 65 years, usually.
21

21

00:01:03,518  -->  00:01:06,607
Okay, and this function will then return another function
22

22

00:01:06,607  -->  00:01:08,882
which will actually calculate the years
23

23

00:01:08,882  -->  00:01:10,609
that someone has left.
24

24

00:01:10,609  -->  00:01:13,689
So we already did this in the last lectures,
25

25

00:01:13,689  -->  00:01:15,109
so let's not do it again.
26

26

00:01:15,109  -->  00:01:19,276
So we simply return an anonymous function here.
27

27

00:01:19,276  -->  00:01:22,637
So we don't have a name, all we have is a parameter,
28

28

00:01:22,637  -->  00:01:25,470
and this is the yearOfBirth again.
29

29

00:01:27,220  -->  00:01:30,767
So we start by calculating the age in here,
30

30

00:01:30,767  -->  00:01:33,267
so 2016 minus the yearOfBirth,
31

31

00:01:37,099  -->  00:01:39,682
and then we log to the console,
32

32

00:01:42,382  -->  00:01:44,616
the retirementAge
33

33

00:01:44,616  -->  00:01:48,057
that we passed into the first function, right?
34

34

00:01:48,057  -->  00:01:51,031
Minus the age that we just created,
35

35

00:01:51,031  -->  00:01:53,565
and then let's add something else,
36

36

00:01:53,565  -->  00:01:56,892
like a string to make a sentence out of this,
37

37

00:01:56,892  -->  00:01:58,956
and I'm calling this one, a,
38

38

00:01:58,956  -->  00:02:00,695
which I didn't declare yet,
39

39

00:02:00,695  -->  00:02:03,295
so I'm going to declare it here.
40

40

00:02:03,295  -->  00:02:04,128
So var a,
41

41

00:02:07,845  -->  00:02:10,178
years left until retirement.
42

42

00:02:14,479  -->  00:02:15,971
So I will explain you in a second
43

43

00:02:15,971  -->  00:02:19,692
why we actually wrote this function like this.
44

44

00:02:19,692  -->  00:02:21,865
It's because we want to use closures here,
45

45

00:02:21,865  -->  00:02:23,511
so I will explain you in a second
46

46

00:02:23,511  -->  00:02:25,999
what closures are and how they work in here,
47

47

00:02:25,999  -->  00:02:27,758
but for now, let's just write this function,
48

48

00:02:27,758  -->  00:02:28,841
so, as it is.
49

49

00:02:30,561  -->  00:02:33,273
And now, let's try to use this function,
50

50

00:02:33,273  -->  00:02:36,087
and, as you know, this returns a function,
51

51

00:02:36,087  -->  00:02:37,451
so we can store the result
52

52

00:02:37,451  -->  00:02:40,221
of calling this function in a variable,
53

53

00:02:40,221  -->  00:02:43,951
and then this variable will be a function as well.
54

54

00:02:43,951  -->  00:02:45,860
So as you noticed, we passed the age
55

55

00:02:45,860  -->  00:02:49,934
that someone has to have in order to be able to retire.
56

56

00:02:49,934  -->  00:02:53,021
So this is an age that changes from country to country,
57

57

00:02:53,021  -->  00:02:56,304
and so we can basically create one function
58

58

00:02:56,304  -->  00:02:57,632
for each country.
59

59

00:02:57,632  -->  00:03:00,631
So this is similar to creating the interview questions
60

60

00:03:00,631  -->  00:03:04,793
for different jobs, like we did before, right?
61

61

00:03:04,793  -->  00:03:08,376
So let's create a function here for the US,
62

62

00:03:10,134  -->  00:03:11,254
and I know that in the US,
63

63

00:03:11,254  -->  00:03:14,820
the retirement age is actually 66,
64

64

00:03:14,820  -->  00:03:17,678
so we call our retirement function
65

65

00:03:17,678  -->  00:03:20,328
and then we pass 66 into it,
66

66

00:03:20,328  -->  00:03:22,827
and this will return a function
67

67

00:03:22,827  -->  00:03:26,660
where the retirement age, so this year, is 66.
68

68

00:03:28,269  -->  00:03:31,676
So if we now call our newly created function,
69

69

00:03:31,676  -->  00:03:34,176
which is this one here, right?
70

70

00:03:35,406  -->  00:03:36,739
So retirementUS,
71

71

00:03:39,324  -->  00:03:40,524
and, of course, we need
72

72

00:03:40,524  -->  00:03:43,003
to pass the year of birth, right?
73

73

00:03:43,003  -->  00:03:46,721
So let's use our well-known 1990, okay?
74

74

00:03:46,721  -->  00:03:49,355
And then, let's check it out.
75

75

00:03:49,355  -->  00:03:53,021
Alright, so 40 years left until retirement,
76

76

00:03:53,021  -->  00:03:55,114
or we could also write it like this,
77

77

00:03:55,114  -->  00:03:56,333
like we did before,
78

78

00:03:56,333  -->  00:03:58,666
so, for example, retirement,
79

79

00:03:59,979  -->  00:04:03,319
then pass an age like 66 again,
80

80

00:04:03,319  -->  00:04:05,493
so this will return a function,
81

81

00:04:05,493  -->  00:04:09,577
and then we can simply call this new function
82

82

00:04:09,577  -->  00:04:12,514
with the yearOfBirth again.
83

83

00:04:12,514  -->  00:04:15,217
So this should give us the same result,
84

84

00:04:15,217  -->  00:04:17,217
okay, so 40 years again.
85

85

00:04:18,813  -->  00:04:19,939
So this works,
86

86

00:04:19,939  -->  00:04:23,169
and let's take a look at what just happened here.
87

87

00:04:23,169  -->  00:04:25,599
So let's examine this together.
88

88

00:04:25,599  -->  00:04:28,675
So we started by calling the retirement function
89

89

00:04:28,675  -->  00:04:32,188
and passed the value of 66 here, right?
90

90

00:04:32,188  -->  00:04:36,306
The function then declares this a variable here
91

91

00:04:36,306  -->  00:04:38,473
and returns this function.
92

92

00:04:39,515  -->  00:04:41,150
Then the function finishes,
93

93

00:04:41,150  -->  00:04:45,185
and its execution context gets popped off the stack,
94

94

00:04:45,185  -->  00:04:48,018
and you remember that part, right?
95

95

00:04:48,018  -->  00:04:50,840
Okay, so we stored the returned function here
96

96

00:04:50,840  -->  00:04:53,727
in the retirementUS variable, right?
97

97

00:04:53,727  -->  00:04:55,750
So here we call it.
98

98

00:04:55,750  -->  00:04:57,741
And now comes the cool part.
99

99

00:04:57,741  -->  00:05:00,432
So in here, in this function,
100

100

00:05:00,432  -->  00:05:03,450
we use the retirementAge parameter
101

101

00:05:03,450  -->  00:05:05,328
of this outer function here,
102

102

00:05:05,328  -->  00:05:08,620
and also the a variable that is also declared
103

103

00:05:08,620  -->  00:05:12,453
outside of this anonymous function, and still,
104

104

00:05:13,536  -->  00:05:17,405
when we run this, this works, so somehow,
105

105

00:05:17,405  -->  00:05:19,957
we are able to still use these variables even
106

106

00:05:19,957  -->  00:05:22,322
after the retirement function,
107

107

00:05:22,322  -->  00:05:24,219
which declares these variables,
108

108

00:05:24,219  -->  00:05:27,402
already stopped its execution.
109

109

00:05:27,402  -->  00:05:28,978
So think about that again.
110

110

00:05:28,978  -->  00:05:31,454
Our inner function here is able
111

111

00:05:31,454  -->  00:05:35,000
to use the retirement variable and a variable
112

112

00:05:35,000  -->  00:05:38,652
of this function here that is already gone.
113

113

00:05:38,652  -->  00:05:40,346
It has already returned.
114

114

00:05:40,346  -->  00:05:43,140
But somehow the variables are still there,
115

115

00:05:43,140  -->  00:05:45,691
and this is the closure.
116

116

00:05:45,691  -->  00:05:47,967
This is really fascinating, right?
117

117

00:05:47,967  -->  00:05:52,200
This really blows my mind each time that I use it, really.
118

118

00:05:52,200  -->  00:05:55,351
So now that we know what a closure is,
119

119

00:05:55,351  -->  00:05:58,085
let's see how and why this actually works
120

120

00:05:58,085  -->  00:05:59,585
behind the scenes.
121

121

00:06:01,019  -->  00:06:05,826
So again, we can summarize how a closure works like this:
122

122

00:06:05,826  -->  00:06:08,081
An inner function has always access
123

123

00:06:08,081  -->  00:06:11,636
to the variables and parameters of its outer function,
124

124

00:06:11,636  -->  00:06:15,929
even after the outer function has returned.
125

125

00:06:15,929  -->  00:06:17,793
So let's see what happens
126

126

00:06:17,793  -->  00:06:20,788
when we call our retirement function.
127

127

00:06:20,788  -->  00:06:22,332
As we already know,
128

128

00:06:22,332  -->  00:06:25,829
the new function gets a new execution context
129

129

00:06:25,829  -->  00:06:29,861
that is put on top of the execution stack.
130

130

00:06:29,861  -->  00:06:32,624
That execution context has an object,
131

131

00:06:32,624  -->  00:06:34,309
which stores the variables.
132

132

00:06:34,309  -->  00:06:37,545
The scope chain ended this variable.
133

133

00:06:37,545  -->  00:06:41,058
So let's see the scope chain for the retirement function,
134

134

00:06:41,058  -->  00:06:45,577
which means the variables that the function has access to.
135

135

00:06:45,577  -->  00:06:48,697
And remember, the scope chain is like a pointer
136

136

00:06:48,697  -->  00:06:53,460
to all the variable objects that the function has access to.
137

137

00:06:53,460  -->  00:06:56,628
Alright, so of course, the function has access
138

138

00:06:56,628  -->  00:07:00,644
to the retirementAge argument, set to 66,
139

139

00:07:00,644  -->  00:07:04,430
and a variable, that holds our string.
140

140

00:07:04,430  -->  00:07:08,028
Okay, and then the function returns.
141

141

00:07:08,028  -->  00:07:09,826
So, after the function returns,
142

142

00:07:09,826  -->  00:07:11,798
now the execution context
143

143

00:07:11,798  -->  00:07:15,272
of the retirement function is effectively gone,
144

144

00:07:15,272  -->  00:07:17,800
and with it, the variable object
145

145

00:07:17,800  -->  00:07:21,397
and the entire scope chain should be gone, right?
146

146

00:07:21,397  -->  00:07:23,245
Actually, no.
147

147

00:07:23,245  -->  00:07:25,602
The secret to closures is that,
148

148

00:07:25,602  -->  00:07:27,898
even after a function returns,
149

149

00:07:27,898  -->  00:07:30,194
and execution context is gone,
150

150

00:07:30,194  -->  00:07:32,582
the variable object is still there.
151

151

00:07:32,582  -->  00:07:34,176
It's not gone.
152

152

00:07:34,176  -->  00:07:38,637
It still sits here in memory and it can be accessed,
153

153

00:07:38,637  -->  00:07:40,982
and that's why we still it there
154

154

00:07:40,982  -->  00:07:43,814
in the execution stack on the left side,
155

155

00:07:43,814  -->  00:07:46,274
and also in the scope chain on the right side,
156

156

00:07:46,274  -->  00:07:49,498
because, and I'm sure that you remember this,
157

157

00:07:49,498  -->  00:07:54,127
the scope chain is in fact a pointer to variable objects,
158

158

00:07:54,127  -->  00:07:56,626
and in this case, the variable object
159

159

00:07:56,626  -->  00:07:59,682
that we have here on the stack.
160

160

00:07:59,682  -->  00:08:01,512
So let's see this in action.
161

161

00:08:01,512  -->  00:08:03,503
Let's call the inner function,
162

162

00:08:03,503  -->  00:08:06,427
that we effectively called retirementUS,
163

163

00:08:06,427  -->  00:08:08,898
with the argument of 1990,
164

164

00:08:08,898  -->  00:08:13,065
which puts, of course, a new execution context on the stack.
165

165

00:08:14,495  -->  00:08:17,095
Let's now look at the scope chain.
166

166

00:08:17,095  -->  00:08:20,549
So since this inner function is written lexically
167

167

00:08:20,549  -->  00:08:24,928
in the retirement function, it has access to its scope,
168

168

00:08:24,928  -->  00:08:28,371
and you already know and use that.
169

169

00:08:28,371  -->  00:08:31,289
And now here comes the magic.
170

170

00:08:31,289  -->  00:08:32,547
Since the variable object
171

171

00:08:32,547  -->  00:08:35,503
of the retirement function is still there,
172

172

00:08:35,503  -->  00:08:37,614
the scope chain stays intact.
173

173

00:08:37,614  -->  00:08:39,111
It keeps working.
174

174

00:08:39,111  -->  00:08:41,486
And so, we can access the variables
175

175

00:08:41,486  -->  00:08:45,397
that were created in the retirement function long
176

176

00:08:45,397  -->  00:08:48,619
after the function has completed execution,
177

177

00:08:48,619  -->  00:08:53,159
and after its execution context is, of course, gone.
178

178

00:08:53,159  -->  00:08:56,884
The current execution context has closed in
179

179

00:08:56,884  -->  00:08:59,000
on the outer variable object,
180

180

00:08:59,000  -->  00:09:00,534
so that it can use it,
181

181

00:09:00,534  -->  00:09:03,988
and that's why it's called a closure.
182

182

00:09:03,988  -->  00:09:07,238
So the scope chain always stays intact.
183

183

00:09:08,072  -->  00:09:10,013
This is the most important thing
184

184

00:09:10,013  -->  00:09:14,065
that you have to understand and remember.
185

185

00:09:14,065  -->  00:09:16,210
Okay, and just to finish this,
186

186

00:09:16,210  -->  00:09:18,181
the function simply returns,
187

187

00:09:18,181  -->  00:09:22,904
and the context is popped off the stack, as usual.
188

188

00:09:22,904  -->  00:09:26,304
So now you not only know what closures are,
189

189

00:09:26,304  -->  00:09:30,827
but you also know how and why they actually work.
190

190

00:09:30,827  -->  00:09:34,781
And note that we don't create closures manually.
191

191

00:09:34,781  -->  00:09:38,424
This is something that's really built into JavaScript.
192

192

00:09:38,424  -->  00:09:40,824
We don't have to worry about anything.
193

193

00:09:40,824  -->  00:09:43,891
We don't have to say that we want the closure.
194

194

00:09:43,891  -->  00:09:48,778
JavaScript will always do this work for us automatically.
195

195

00:09:48,778  -->  00:09:52,892
And now, the summary makes even more sense to you, right?
196

196

00:09:52,892  -->  00:09:55,307
So an inner function has always access
197

197

00:09:55,307  -->  00:09:59,899
to the variables and parameters of its outer function,
198

198

00:09:59,899  -->  00:10:03,482
even after the outer function has returned.
199

199

00:10:05,120  -->  00:10:07,245
So let's now see how this function
200

200

00:10:07,245  -->  00:10:09,913
that we created can be useful for us.
201

201

00:10:09,913  -->  00:10:12,353
So we can create three different functions
202

202

00:10:12,353  -->  00:10:15,440
for countries with different retirement ages,
203

203

00:10:15,440  -->  00:10:18,437
and use these functions over and over again.
204

204

00:10:18,437  -->  00:10:22,077
So this is similar with something that we did before, right?
205

205

00:10:22,077  -->  00:10:25,156
So we have a more generic function up here,
206

206

00:10:25,156  -->  00:10:27,066
the retirement function,
207

207

00:10:27,066  -->  00:10:30,805
which we can then use to create more-specific functions.
208

208

00:10:30,805  -->  00:10:34,389
And this is only one of the many application cases
209

209

00:10:34,389  -->  00:10:38,075
of closures, and we will see more of these later on
210

210

00:10:38,075  -->  00:10:39,561
in the course.
211

211

00:10:39,561  -->  00:10:42,894
So let's now create some more functions.
212

212

00:10:43,869  -->  00:10:46,356
We just get rid of this here.
213

213

00:10:46,356  -->  00:10:49,939
Okay, so let's create a retirement function
214

214

00:10:51,148  -->  00:10:52,148
for Germany,
215

215

00:10:53,325  -->  00:10:57,534
because in Germany, the retirement age is,
216

216

00:10:57,534  -->  00:10:58,784
not 66, but 65.
217

217

00:11:01,718  -->  00:11:02,551
Okay?
218

218

00:11:03,536  -->  00:11:05,514
And we can also create one
219

219

00:11:05,514  -->  00:11:08,137
for another country here in Europe,
220

220

00:11:08,137  -->  00:11:11,554
which is Iceland, which has an age of 67.
221

221

00:11:12,782  -->  00:11:13,699
So Iceland,
222

222

00:11:15,823  -->  00:11:18,115
we will call the retirement function
223

223

00:11:18,115  -->  00:11:20,032
with an argument of 67.
224

224

00:11:21,691  -->  00:11:23,865
And now we can go ahead and use these functions
225

225

00:11:23,865  -->  00:11:26,718
for different people in these different countries,
226

226

00:11:26,718  -->  00:11:30,082
for example, and see how many years they have left.
227

227

00:11:30,082  -->  00:11:32,378
So let's use these three for the same people,
228

228

00:11:32,378  -->  00:11:35,461
imagining that they lived in Germany,
229

229

00:11:36,847  -->  00:11:39,680
so the retirementGermany function,
230

230

00:11:42,241  -->  00:11:44,824
and that they lived in Iceland,
231

231

00:11:47,359  -->  00:11:50,776
so retirementIceland, and then also 1990,
232

232

00:11:52,765  -->  00:11:56,097
and if I now run this, we have three different ages,
233

233

00:11:56,097  -->  00:11:58,283
actually, three different years,
234

234

00:11:58,283  -->  00:12:00,150
that the person has left until retirement.
235

235

00:12:00,150  -->  00:12:04,317
So 39 in Germany, 40 in the US, and 41 in Iceland.
236

236

00:12:05,942  -->  00:12:10,109
And all of this is possible thanks to the power of closures.
237

237

00:12:11,946  -->  00:12:15,004
Okay, now, just to finish this,
238

238

00:12:15,004  -->  00:12:18,429
I have a very small challenge for you, and this challenge is
239

239

00:12:18,429  -->  00:12:22,289
that you should rewrite the interviewqQuestion function
240

240

00:12:22,289  -->  00:12:24,350
that we wrote in another lecture,
241

241

00:12:24,350  -->  00:12:27,032
but this time using the power of closures.
242

242

00:12:27,032  -->  00:12:31,522
And the function that I'm talking about is, let's see,
243

243

00:12:31,522  -->  00:12:33,522
yep, it's this one here.
244

244

00:12:35,387  -->  00:12:36,887
So let me copy it,
245

245

00:12:37,887  -->  00:12:39,054
paste it here,
246

246

00:12:40,825  -->  00:12:44,242
okay, and I'm gonna comment it out, okay?
247

247

00:12:45,692  -->  00:12:48,381
So again, I now want you to write this,
248

248

00:12:48,381  -->  00:12:50,264
using the power of closures.
249

249

00:12:50,264  -->  00:12:54,347
So please pause the video now, and do that, okay?
250

250

00:12:57,761  -->  00:13:00,715
Okay, so I hope that you managed to do it.
251

251

00:13:00,715  -->  00:13:03,162
So let's now see the solution.
252

252

00:13:03,162  -->  00:13:06,542
So of course, we again write the function,
253

253

00:13:06,542  -->  00:13:09,875
and it's again called interviewQuestion.
254

254

00:13:12,059  -->  00:13:14,392
And we still accept the job,
255

255

00:13:15,342  -->  00:13:16,368
but now the difference is
256

256

00:13:16,368  -->  00:13:19,117
that we will always return the same function,
257

257

00:13:19,117  -->  00:13:23,465
so there's only one return keyword in here, okay?
258

258

00:13:23,465  -->  00:13:26,798
So one function, which accepts the name,
259

259

00:13:28,291  -->  00:13:32,273
and then we do our if/else statement right in here,
260

260

00:13:32,273  -->  00:13:34,977
and that is possible because of closures,
261

261

00:13:34,977  -->  00:13:38,582
because we will be able to use the job argument,
262

262

00:13:38,582  -->  00:13:40,004
this one, right?
263

263

00:13:40,004  -->  00:13:41,783
Right here into this function,
264

264

00:13:41,783  -->  00:13:45,641
even after the interviewQuestion function has returned.
265

265

00:13:45,641  -->  00:13:47,005
Right?
266

266

00:13:47,005  -->  00:13:50,100
So let's now write our if/else statement in here.
267

267

00:13:50,100  -->  00:13:50,933
So job,
268

268

00:13:53,150  -->  00:13:53,983
designer,
269

269

00:13:57,048  -->  00:14:00,278
and I will then copy the code from up there,
270

270

00:14:00,278  -->  00:14:02,861
so then else if job is teacher,
271

271

00:14:12,802  -->  00:14:14,719
and then the else part.
272

272

00:14:16,847  -->  00:14:20,514
Okay, so if it's a designer, it's this code.
273

273

00:14:22,618  -->  00:14:26,451
There's of course no need to write this again.
274

274

00:14:27,657  -->  00:14:28,874
And this is for the teacher
275

275

00:14:28,874  -->  00:14:32,707
and this is for all the other jobs, basically.
276

276

00:14:34,004  -->  00:14:38,171
Okay, so let's now use this function for a teacher.
277

277

00:14:39,319  -->  00:14:41,152
So, interviewQuestion,
278

278

00:14:42,678  -->  00:14:44,906
let's say, teacher,
279

279

00:14:44,906  -->  00:14:47,252
and then we can call it right here.
280

280

00:14:47,252  -->  00:14:50,073
There's no need to save it in another variable,
281

281

00:14:50,073  -->  00:14:53,448
as I already showed you, right?
282

282

00:14:53,448  -->  00:14:55,602
And let's now run this,
283

283

00:14:55,602  -->  00:14:56,506
and it works.
284

284

00:14:56,506  -->  00:14:58,833
So what subject do you teach, John?
285

285

00:14:58,833  -->  00:15:00,832
So we see that this clearly a question
286

286

00:15:00,832  -->  00:15:03,140
for the teacher, right?
287

287

00:15:03,140  -->  00:15:06,024
So again, the difference between the two functions is
288

288

00:15:06,024  -->  00:15:09,274
that now, the decision is taken right inside
289

289

00:15:09,274  -->  00:15:12,660
of the function that we return, and that's possible
290

290

00:15:12,660  -->  00:15:15,127
because we can use the job variable
291

291

00:15:15,127  -->  00:15:17,353
to take this decision here, even
292

292

00:15:17,353  -->  00:15:21,701
after the interviewQuestion function has already returned.
293

293

00:15:21,701  -->  00:15:23,549
So when we first wrote this function,
294

294

00:15:23,549  -->  00:15:25,598
we didn't know about closures,
295

295

00:15:25,598  -->  00:15:29,512
so we wrote it this first original way here, right?
296

296

00:15:29,512  -->  00:15:31,442
But now, we don't need this anymore,
297

297

00:15:31,442  -->  00:15:35,302
because now we know about the power of closures, right?
298

298

00:15:35,302  -->  00:15:39,395
And so we can harness that power and effectively use them,
299

299

00:15:39,395  -->  00:15:41,073
because this is a better way of doing it.
300

300

00:15:41,073  -->  00:15:42,689
This is cleaner code.
301

301

00:15:42,689  -->  00:15:44,619
So we have only one function,
302

302

00:15:44,619  -->  00:15:47,768
and then the if inside of here.
303

303

00:15:47,768  -->  00:15:50,541
So let me explain it one last time, okay?
304

304

00:15:50,541  -->  00:15:55,415
So this function call here will return this function here,
305

305

00:15:55,415  -->  00:15:56,322
okay?
306

306

00:15:56,322  -->  00:15:58,393
And then, we call this function
307

307

00:15:58,393  -->  00:16:01,999
with the John parameter, the John argument,
308

308

00:16:01,999  -->  00:16:05,860
and then this execution context will close in
309

309

00:16:05,860  -->  00:16:09,486
over the variable object of the function that we had before,
310

310

00:16:09,486  -->  00:16:11,242
that we called before.
311

311

00:16:11,242  -->  00:16:14,434
So it will close in on the variables that we defined
312

312

00:16:14,434  -->  00:16:17,513
in the old function, which was the job variable,
313

313

00:16:17,513  -->  00:16:20,407
and so we can use this variable right
314

314

00:16:20,407  -->  00:16:23,954
into this function as well, and we do that in here.
315

315

00:16:23,954  -->  00:16:27,717
So here, in our if/else statement, we use the job variable
316

316

00:16:27,717  -->  00:16:31,708
of the interviewQuestion function that has already returned
317

317

00:16:31,708  -->  00:16:36,174
by the point that we use this inner function here, right?
318

318

00:16:36,174  -->  00:16:39,538
So now, I hope that this is crystal-clear to you.
319

319

00:16:39,538  -->  00:16:41,964
Alright, and this was closures.
320

320

00:16:41,964  -->  00:16:43,711
And as you have seen, they allow us
321

321

00:16:43,711  -->  00:16:45,793
to do really powerful things,
322

322

00:16:45,793  -->  00:16:48,741
and you will see that in our project later.
323

323

00:16:48,741  -->  00:16:51,782
So make sure that you really understand closures.
324

324

00:16:51,782  -->  00:16:55,313
And I hope that you can see now why it was so important
325

325

00:16:55,313  -->  00:16:59,274
to learn all the JavaScript theory that I showed you before,
326

326

00:16:59,274  -->  00:17:02,830
because without that, you would not be able to understand
327

327

00:17:02,830  -->  00:17:04,799
what I just showed you in this lecture,
328

328

00:17:04,799  -->  00:17:07,889
because this was really, really advanced stuff.
329

329

00:17:07,889  -->  00:17:10,706
So if you understood this lecture,
330

330

00:17:10,706  -->  00:17:13,375
then nothing can stop you anymore on your path
331

331

00:17:13,375  -->  00:17:16,827
to become a really amazing JavaScript developer.
332

332

00:17:16,827  -->  00:17:19,160
So how cool is that, right?
                                                                                                                1
1

00:00:01,151  -->  00:00:02,413
<v Instructor>This is the last lecture</v>
2

2

00:00:02,413  -->  00:00:05,913
about removing an element from our application,
3

3

00:00:05,913  -->  00:00:08,908
and all we have left to do is to actually remove
4

4

00:00:08,908  -->  00:00:12,316
the item from the user interface.
5

5

00:00:12,316  -->  00:00:14,470
And so in this lecture, we're going to learn
6

6

00:00:14,470  -->  00:00:17,879
some more DOM manipulation, and more specifically,
7

7

00:00:17,879  -->  00:00:21,046
how to remove an element from the DOM.
8

8

00:00:22,984  -->  00:00:24,797
And so in order to remove something from
9

9

00:00:24,797  -->  00:00:28,195
the user interface, we create the brand new method
10

10

00:00:28,195  -->  00:00:30,804
here in our UI controller.
11

11

00:00:30,804  -->  00:00:34,156
So here we have addListItem, and so after that,
12

12

00:00:34,156  -->  00:00:36,823
I'm going to put deleteListItem.
13

13

00:00:40,560  -->  00:00:42,727
So a function, once again.
14

14

00:00:45,553  -->  00:00:47,308
And what do we need to know in order
15

15

00:00:47,308  -->  00:00:51,709
to be able to remove an element from the DOM?
16

16

00:00:51,709  -->  00:00:55,270
That's right, we need a class name or an ID name
17

17

00:00:55,270  -->  00:00:59,326
so that we can first select it and then remove it.
18

18

00:00:59,326  -->  00:01:02,832
And in this case, of course we're going to use an ID,
19

19

00:01:02,832  -->  00:01:05,587
because we've been talking about that all the time.
20

20

00:01:05,587  -->  00:01:09,087
So let's say selectorID, right, and the ID
21

21

00:01:11,747  -->  00:01:14,538
that we're going to pass into this
22

22

00:01:14,538  -->  00:01:17,871
will be, of course, this entire ID here.
23

23

00:01:18,889  -->  00:01:23,171
So the one that we write from the DOM in the first place.
24

24

00:01:23,171  -->  00:01:26,138
So we don't want just the type or that ID,
25

25

00:01:26,138  -->  00:01:29,093
but we want the entire ID that we write.
26

26

00:01:29,093  -->  00:01:33,260
So for example, the income zero or the income one, right.
27

27

00:01:35,041  -->  00:01:39,100
So that we can then go ahead and delete this item, right.
28

28

00:01:39,100  -->  00:01:41,960
So for example, this item, or this item,
29

29

00:01:41,960  -->  00:01:44,649
this is what we want to delete.
30

30

00:01:44,649  -->  00:01:47,566
And so let's do that in our method.
31

31

00:01:49,460  -->  00:01:51,247
And removing something from the DOM
32

32

00:01:51,247  -->  00:01:54,126
is actually pretty simple, because for that,
33

33

00:01:54,126  -->  00:01:56,947
we have to remove child method.
34

34

00:01:56,947  -->  00:01:59,910
Okay, and since it's the remove child method,
35

35

00:01:59,910  -->  00:02:02,133
we first need to know the parent, right?
36

36

00:02:02,133  -->  00:02:05,284
So basically we have to move up in the DOM
37

37

00:02:05,284  -->  00:02:07,451
so that we can then remove the child.
38

38

00:02:07,451  -->  00:02:10,061
So this is a bit strange, but in JavaScript
39

39

00:02:10,061  -->  00:02:12,716
we cannot simply delete an element,
40

40

00:02:12,716  -->  00:02:14,537
we can only delete a child.
41

41

00:02:14,537  -->  00:02:16,676
So remove a child.
42

42

00:02:16,676  -->  00:02:20,055
So we start by selecting the element, as always.
43

43

00:02:20,055  -->  00:02:24,380
So document-dot, and now since we have an ID here,
44

44

00:02:24,380  -->  00:02:27,951
I will use getElementById, we haven't used that
45

45

00:02:27,951  -->  00:02:29,566
in a long time, right?
46

46

00:02:29,566  -->  00:02:33,397
So getElementById, and then selectorID.
47

47

00:02:33,397  -->  00:02:37,034
So this is our item that we want to remove.
48

48

00:02:37,034  -->  00:02:39,811
But remember, we can only remove a child,
49

49

00:02:39,811  -->  00:02:43,627
so we first need to move up, and we already did that before,
50

50

00:02:43,627  -->  00:02:47,377
and we do that using the parentNode property.
51

51

00:02:49,573  -->  00:02:53,114
So parentNode, and now we can say from here,
52

52

00:02:53,114  -->  00:02:55,281
we want to remove a child,
53

53

00:02:58,038  -->  00:03:01,211
and then, we need to again select it.
54

54

00:03:01,211  -->  00:03:03,909
So really, this is a bit strange, as I was saying,
55

55

00:03:03,909  -->  00:03:06,376
but it's just how it works.
56

56

00:03:06,376  -->  00:03:09,709
So we need to pass this into here again.
57

57

00:03:10,698  -->  00:03:12,286
So this is how it works.
58

58

00:03:12,286  -->  00:03:15,603
Now I would suggest to not do it this way,
59

59

00:03:15,603  -->  00:03:19,355
but to first actually save the selection here
60

60

00:03:19,355  -->  00:03:22,013
in a separate variable, right?
61

61

00:03:22,013  -->  00:03:24,930
So let's say element is this, okay?
62

62

00:03:27,050  -->  00:03:28,633
And so then we say,
63

63

00:03:30,629  -->  00:03:35,284
element, then we want the parentNode from that element,
64

64

00:03:35,284  -->  00:03:39,451
and then we remove the child, which is this element.
65

65

00:03:40,575  -->  00:03:44,436
So pretty weird, but yeah, that's how it works.
66

66

00:03:44,436  -->  00:03:47,184
There's actually an excellent reference that I found
67

67

00:03:47,184  -->  00:03:49,497
where lots of these things are explained,
68

68

00:03:49,497  -->  00:03:52,443
so lots of DOM manipulations like this.
69

69

00:03:52,443  -->  00:03:56,079
So let's take a look at that, I already have it here,
70

70

00:03:56,079  -->  00:04:00,046
and you can also find it on my resource page, as always.
71

71

00:04:00,046  -->  00:04:02,872
And here we have a comparison between jQuery
72

72

00:04:02,872  -->  00:04:05,318
and JavaScript DOM API.
73

73

00:04:05,318  -->  00:04:08,937
So this is for, now let's see, removing elements here,
74

74

00:04:08,937  -->  00:04:11,691
so this is what we did here, right?
75

75

00:04:11,691  -->  00:04:14,694
So we selected an element, then set parentNode,
76

76

00:04:14,694  -->  00:04:18,265
and removeChild, and the element again, right?
77

77

00:04:18,265  -->  00:04:21,052
But here is a lot of different stuff that we can do,
78

78

00:04:21,052  -->  00:04:24,314
and some of that we already did.
79

79

00:04:24,314  -->  00:04:27,314
For example, let's see, so creating,
80

80

00:04:29,571  -->  00:04:32,189
and inserting elements before and after, here's what
81

81

00:04:32,189  -->  00:04:35,106
we did here, so insertAdjacentHTML,
82

82

00:04:35,956  -->  00:04:39,310
and we already used, I don't know if it was the after end,
83

83

00:04:39,310  -->  00:04:41,587
but it was something like this, okay?
84

84

00:04:41,587  -->  00:04:45,227
And so, in here, you can find something for your needs
85

85

00:04:45,227  -->  00:04:47,590
if you want to do some DOM manipulation
86

86

00:04:47,590  -->  00:04:51,673
like inserting or removing elements from the DOM.
87

87

00:04:53,079  -->  00:04:57,310
Okay, so our deleteListItem method is actually complete
88

88

00:04:57,310  -->  00:04:59,790
with this, so this is a pretty simple one
89

89

00:04:59,790  -->  00:05:02,089
because all we really wanted to do here
90

90

00:05:02,089  -->  00:05:04,356
is to just remove this element.
91

91

00:05:04,356  -->  00:05:06,106
So let's now call it.
92

92

00:05:08,358  -->  00:05:12,525
So in here, so UI controller, dot-deleteListItem, alright,
93

93

00:05:15,267  -->  00:05:18,900
and now remember, we have to pass in the ID,
94

94

00:05:18,900  -->  00:05:22,151
and it's the itemID, as we were talking about
95

95

00:05:22,151  -->  00:05:24,223
right in the beginning.
96

96

00:05:24,223  -->  00:05:27,118
Alright, and now, all we have left to do
97

97

00:05:27,118  -->  00:05:29,510
is to update and show the new budget.
98

98

00:05:29,510  -->  00:05:31,271
But that's really simple, right,
99

99

00:05:31,271  -->  00:05:34,858
because we already have this code.
100

100

00:05:34,858  -->  00:05:39,034
So let's go here to our control AddItem function,
101

101

00:05:39,034  -->  00:05:40,307
so this one.
102

102

00:05:40,307  -->  00:05:42,958
So when we coded this part of the application,
103

103

00:05:42,958  -->  00:05:44,847
we already had this function here,
104

104

00:05:44,847  -->  00:05:47,162
which does exactly what we want.
105

105

00:05:47,162  -->  00:05:50,924
So let's just copy this, and paste it here.
106

106

00:05:50,924  -->  00:05:53,768
Alright, and that's why back then, I said
107

107

00:05:53,768  -->  00:05:57,414
that we should create a function to update the budget
108

108

00:05:57,414  -->  00:05:59,187
because we were going to use it again,
109

109

00:05:59,187  -->  00:06:01,713
and now is that time.
110

110

00:06:01,713  -->  00:06:04,806
So instead of writing the same code, here in this function
111

111

00:06:04,806  -->  00:06:08,429
and in this function, we created an updateBudget function,
112

112

00:06:08,429  -->  00:06:11,609
which contains all of the stuff that we do here.
113

113

00:06:11,609  -->  00:06:13,869
So let's remember, what is this?
114

114

00:06:13,869  -->  00:06:17,333
So we calculate the budget, then we get the budget,
115

115

00:06:17,333  -->  00:06:20,809
so we basically read it from the budget controller,
116

116

00:06:20,809  -->  00:06:23,393
and then we display it on the user interface
117

117

00:06:23,393  -->  00:06:24,603
with the UI Controller.
118

118

00:06:24,603  -->  00:06:27,735
Okay, so let's check this out.
119

119

00:06:27,735  -->  00:06:30,235
So I'm refreshing it, and then
120

120

00:06:31,570  -->  00:06:35,737
let's say salary, 1500, or something like this, okay,
121

121

00:06:36,987  -->  00:06:38,570
and sold car, 2000.
122

122

00:06:41,444  -->  00:06:44,636
And let's remove it, and it's gone.
123

123

00:06:44,636  -->  00:06:47,297
So it's working, so really cool.
124

124

00:06:47,297  -->  00:06:51,546
And did you see that also, this budget here was updated,
125

125

00:06:51,546  -->  00:06:54,729
so not only was the element actually removed,
126

126

00:06:54,729  -->  00:06:56,809
but also the budget was updated.
127

127

00:06:56,809  -->  00:06:59,081
So let's remove this one as well,
128

128

00:06:59,081  -->  00:07:01,421
and so we're back to zero.
129

129

00:07:01,421  -->  00:07:04,588
So let's add an expense, holiday, 500,
130

130

00:07:08,262  -->  00:07:12,090
and now add on our income, like logo design
131

131

00:07:12,090  -->  00:07:16,257
for 2500 dollars, so a great (mumbles), right?
132

132

00:07:17,643  -->  00:07:19,393
And our salary again.
133

133

00:07:22,921  -->  00:07:25,627
So all of this has updated, of course,
134

134

00:07:25,627  -->  00:07:28,263
and now I'm removing this one, and yeah,
135

135

00:07:28,263  -->  00:07:31,096
again it updated, it updated here,
136

136

00:07:32,187  -->  00:07:34,726
and so everything works perfectly.
137

137

00:07:34,726  -->  00:07:38,806
That's only just, look at our budget again,
138

138

00:07:38,806  -->  00:07:41,605
and take it, this is also empty,
139

139

00:07:41,605  -->  00:07:44,022
and yeah, it is, so, perfect.
140

140

00:07:45,521  -->  00:07:49,363
And with this, we concluded the part two of the project,
141

141

00:07:49,363  -->  00:07:53,013
which was just to delete an item here from our application.
142

142

00:07:53,013  -->  00:07:55,570
And we did that perfectly.
143

143

00:07:55,570  -->  00:07:57,814
So our app is growing and growing,
144

144

00:07:57,814  -->  00:07:59,968
and it's getting better and better.
145

145

00:07:59,968  -->  00:08:03,385
So let's now move on to see what's next.
                                                            0008608 00000 n 
0000009115 00000 n 
0000009359 00000 n 
0000020657 00000 n 
0000021161 00000 n 
0000020841 00000 n 
0000021141 00000 n 
0000021404 00000 n 
0000024388 00000 n 
0000024877 00000 n 
0000024574 00000 n 
0000024857 00000 n 
0000025127 00000 n 
0000027923 00000 n 
0000028346 00000 n 
0000028623 00000 n 
0000032546 00000 n 
0000032567 00000 n 
0000032604 00000 n 
0000032656 00000 n 
0000032680 00000 n 
trailer
<< /Size 43 /Root 22 0 R /Info 1 0 R /ID [ <09812912cbc38bb74c61b7691e754a30>
<09812912cbc38bb74c61b7691e754a30> ] >>
startxref
32827
%%EOF
                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Í±8¬‰›¼€ñåa¿½õ¼Ã¾of÷½©™"[\Í8	àé&Õ½ø0Ëô?óõúŸıGH@ € !°Cÿÿÿÿü"Oÿò„İ¬8 7 ,!Qr„Í5 2äÀ0b×)@†ÿû’`Ë ç4ÕëObŞ?
 #KÍ[eë¸¨€,$  ºí6Ûq³ìU3ğÂıÅ~e½vbÒÙsı§­»¿Ã›k…Ú³¤ôFWn0ã>zÌ÷	ÑòKM`!ÌÊ'ñjÜÍ˜µae¥`Åƒ%·x0­lWp«X«—æ‘±­cv–·‰Š<fZK¸ƒVù/JÑµY<ZFğõ\>VelHU¾âD‡~ÖòÕÆ/®oXû¦$Ìëtß§Ö5»ã½µşwz@¾û†<   °Ä²Ú;ÿÑ‰şÏíÿ¯ÿìŸõØ¦;#dä-ÑHvCŞ¯c¡ê8I™ÕL¡âŠƒ¥TFÈÄŠ¤E!F)
çD&‡!†‘ÈŒÈ4–[óùç‚É %²[%3SU]ùÇ¥‰†à1Ø¥{Ì~-HRñX'×1‹aH8aaÑ´ØLT¡²;ûu@2$G'âYC'7‰Äî7–İéTõ¼ ƒ¨×Ò|}ªÕ{^Å-ê±éfêT±®XÏÕ°Ş5r—Ëê×åÍ_×7ı¿¬¯e»ÿ÷1ËYê¦{Õÿû’`¿€8`WUmà
Vk+-¡Z-›S™Ü 1¬?°ëá¾nÅËØó<ÿ¸áµ~®­ÿ]Ç“Ÿk›¹ºÙeøaÜ7¾\¿©3ŸkÖ—Ş¦û<İú»û–¬r¶V/åVıîÓc3Üéò§Ãx×Â—ÿşÿ¤Œ@È
¤ÎÁuºÛvÛaân
’õ_‘İW8	’"¾GISÿù4úïøÚê®åó_ÿõ'Ín­•jİCí¬kËk½’¦ä^×wÅÕÙÈ—Õq_©ÃTZ¾¡»mksnåÇ¢İG¡§n,ô<êtlœº³~”³ÔæVÇ"ø=»¦®¨òb Q®½'M°ceÏ™{ìª'5!£©ZU-İ,Ùx•<;M Z	~%ÅñâK&H¦H”K§‰rÃ¦&§O+½N–Õ³T¥Ö’’²*K};³©l­¶ßõ3YmzÌ”¾R´9ô›™Bß¨V!„ûë§ŞÕœÏõİ³ÿÚäÀm¬–Ùÿÿû”i¶›[Y6}É½vÃg³¶:‰(Š1B‡X%PÚÏ´Š2¶„·d•d¹lÿû’`V€£=XWa 
1 Cà€ia­<k¨Ù ,ô  Hk0œÀIÊ¨ÚÒGX†ç¦í=¦ Kj+‡Ê£·Nú¯jŠêlëãón*	ûéÇ’©}‡e¥Â'%X×ÛŸ>óÊÿ§KúK“·Ÿô1:Y³¿.ëä!Âîñrjóë?ÿ\Ö€    m­·1ßŞ¿ÿKK:½lE˜rä&†^šdÑè­Ë{ÏÛoÒF×R)>¢¹×\…Rõ J @ä’9$6hÿ´,ñ±Gé–@ôyÑxÑµÜe•Ö©àŞ˜õV×se·híïOŞ3o}Tşú/E¼†F¥Ö™ˆ’ìÙŸZìeEòîá½¯r•ÅŠá«mœYê,CÑÆˆ   @ ÿÿ¶÷ÿş…ÿü=VWÿÔµì¿Ô¾ÖZ
„ÅÑ±§’0+wÚÚ/b1PÚZ²´8 âl¸fÇ.‡-rI%²É!”{˜!Àà’ÆzR—:KŒ‡)%é3eè(|^R“xú=.ë‡[8µS¯ú›j»›5İl¥—©lbKÌ—2]É%ˆÌ»ÿû’`q€é>×kLè<¥ËO"[)[­¬M äl| ”-ÑßM•÷g3u:.——U‰zfĞ Ô#S[]ìÜŠD  ” oö»sşAë?‘¢9¢T©Ü¾Ç'E­]ôşûÛå›:lÜ‹–âÂ5Š©'YBEúßIg£rÀd§-»]¶ÖÚ;j*$âµ:ŒÖ’yAixˆg»Íz£Âø@Å¹%oïï\a>a•rØ]N'_wçi« «Ö#¼„T®:b†ˆ:üHÉVã÷j†q÷™Ï—ûûÈíÌïÑøù¡’MGÿ¿€  
wÿí¸Cü¦—ÓeV.øt€h İDáqäP¹àè.–¶´.ñæ.bº—–,hc\„$ë¡ˆ¬ë‹¹i êX(İ’¨¶ëwºÙMÈÖœdYk	Lè´Çş%&ÓDTİnªZÚ~°BÅéy ($êîOùÕ>K'€˜Vq! Ñ	¢Ò2’ì`¼®ƒÀÑÊÏšó59±)ìGÅ(~PóCZ¦ím‚Ê’Ç¥eĞÊ-è  ‚1#m¸?õPª%ÿû’`’€;%Wkl2ZF;%UY­°k ı„ìô–~Wıç–÷ß¤Å›"‹÷Ü¶ŒJj‰Á[×¨Ğ£«RÊ‹^%¸jH)²@`©v·]şÖîs0§”¢‡u	VÎÍTáÁ†8±‘&KßÉ,UmCğšrÖÁ ÏG<ÂU•':µRœãf´‘®5J.1U©+°.ô*ĞÇzÿæÒŞ|×´ÿ¿	r·yMg€ßŞJ{öd-Wÿw²  	 –ÈÛ®ÿB_ßÇ©)š¸Xà‰Âä!v%äX€lÔ(,ÁX,ŠÍ’ÎÃäõ¹~µ©oİ?aU,HóÚJ¾e“‘Èä¤™‚VÁ‹ŞThqw•ktšnë…oD¢µ*cb†
ÅÍØŒjÆr¦+‰€aÃ…^É§‘öj%½•ÂÈØ´›I“¤M$€¨‹‹‘…I:lp(–÷— WRæ~gëÎwjwQÿäÿğÉsİOüÿÿÿú M¹dmÏĞp_¡1àU2\zV4a‰#Qâì•`¸òğÊeÔN":ÿû’`¥€l!VkoBJ?@M  H]­á	xù€i¨  öE+Ca‡õiÚõ©š™'¥ A«¯¾•2HŞ‹cÀîª(Û®ï=û ‹zCAr“{u®«33`8,aóg]óg–[>4jFÕ3îÄ‚’{î/}&¹yD"–.)’Ï<`p/„PĞpN…’>(DÓó( ])…‰.ˆ$÷ú@ “WƒûŸÓwÜzˆI…l0‘$B\ò–9,5Avœ$àìYGĞE72¦Ü„IM¶ãn$‘GßQÅ†Ï“µeQG¾ŠŞw ÚÕ7Œõ÷ñË@B†›Ò•JD!à®§…²ÇOç]pdİ«7ç&ò¨NI­?ä¬“«‚ä’b “l«[Ô¥;Û(ÖÎÅŸy¢£‚­[’À¹‡Íz8Xt¢MºhÖŠJ£ #0GÔÇÁÍ&”Á‚ÈíB«´ıÏûÁû1
1

00:00:01,595  -->  00:00:03,324
<v Instructor>Now comes the fun part</v>
2

2

00:00:03,324  -->  00:00:06,076
where we'll finally see the budget updating
3

3

00:00:06,076  -->  00:00:08,527
on the user interface.
4

4

00:00:08,527  -->  00:00:11,051
And since this will be a shorter lecture,
5

5

00:00:11,051  -->  00:00:13,823
we will just practice some more DOM manipulation
6

6

00:00:13,823  -->  00:00:16,577
by updating the budget and total values
7

7

00:00:16,577  -->  00:00:18,410
in the user interface.
8

8

00:00:20,221  -->  00:00:23,062
So of course we need to add a new method
9

9

00:00:23,062  -->  00:00:26,314
here to our user interface controller, right?
10

10

00:00:26,314  -->  00:00:28,981
And let's call it displayBudget.
11

11

00:00:30,296  -->  00:00:32,321
And let's put it here.
12

12

00:00:32,321  -->  00:00:36,071
So displayBudget.
13

13

00:00:39,238  -->  00:00:41,930
And what do we need here in order to be able
14

14

00:00:41,930  -->  00:00:44,258
to actually print the budget?
15

15

00:00:44,258  -->  00:00:46,354
Of course we need to update
16

16

00:00:46,354  -->  00:00:48,776
where all of this data is stored.
17

17

00:00:48,776  -->  00:00:52,943
So I'm going to call it (obj) just like we did before
18

18

00:00:54,499  -->  00:00:57,506
and this will then contain the four pieces of data
19

19

00:00:57,506  -->  00:00:59,569
that we want to print here, right?
20

20

00:00:59,569  -->  00:01:03,058
So the budget, the total income, the total expense
21

21

00:01:03,058  -->  00:01:05,347
and also the percentage.
22

22

00:01:05,347  -->  00:01:07,800
So we're going to do some more DOM manipulation
23

23

00:01:07,800  -->  00:01:10,215
and in order to do that we need to know
24

24

00:01:10,215  -->  00:01:12,120
the class names of the elements
25

25

00:01:12,120  -->  00:01:14,599
on our user interface that we want, right?
26

26

00:01:14,599  -->  00:01:18,147
And so once again we're going to add some more strings here
27

27

00:01:18,147  -->  00:01:21,001
to our DOM strings object so that we can use them
28

28

00:01:21,001  -->  00:01:23,319
then in our methods.
29

29

00:01:23,319  -->  00:01:25,894
So let's go to our html file
30

30

00:01:25,894  -->  00:01:29,500
where our user interface is stored, right?
31

31

00:01:29,500  -->  00:01:31,624
And so this is here in the top part
32

32

00:01:31,624  -->  00:01:33,804
as I showed you right in the beginning.
33

33

00:01:33,804  -->  00:01:37,838
So the actual budget value which will be stored here.
34

34

00:01:37,838  -->  00:01:40,421
So right here this is this
35

35

00:01:41,400  -->  00:01:43,610
will be called "budget_value".
36

36

00:01:43,610  -->  00:01:48,021
So let me copy this and then paste it here.
37

37

00:01:48,021  -->  00:01:52,728
And I'm going to call it budgetLabel
38

38

00:01:52,728  -->  00:01:55,085
because these basically act as labels
39

39

00:01:55,085  -->  00:01:57,483
in the user interface, okay?
40

40

00:01:57,483  -->  00:02:02,061
So the class selector and then the class name.
41

41

00:02:02,061  -->  00:02:04,621
Alright, so next one.
42

42

00:02:04,621  -->  00:02:08,422
So now we need our total income, which is here right,
43

43

00:02:08,422  -->  00:02:10,950
and the total expenses is down here.
44

44

00:02:10,950  -->  00:02:12,493
In this dif element.
45

45

00:02:12,493  -->  00:02:13,793
So let's just check.
46

46

00:02:13,793  -->  00:02:17,457
So it's this here and this.
47

47

00:02:17,457  -->  00:02:20,982
So these are called "budget_income_value"
48

48

00:02:20,982  -->  00:02:24,182
and "budget_expenses_value" down here.
49

49

00:02:24,182  -->  00:02:26,765
So let's add these two as well.
50

50

00:02:27,783  -->  00:02:30,450
So let me call this incomeLabel.
51

51

00:02:33,196  -->  00:02:36,410
And actually I didn't copy it.
52

52

00:02:36,410  -->  00:02:37,743
Okay.
53

53

00:02:40,890  -->  00:02:42,170
So now it's here.
54

54

00:02:42,170  -->  00:02:46,337
And now the expenseLabel.
55

55

00:02:50,814  -->  00:02:53,397
So income and expenses.
56

56

00:02:56,951  -->  00:02:59,469
And finally the percentage as well.
57

57

00:02:59,469  -->  00:03:02,882
So let me check that as well and it's here.
58

58

00:03:02,882  -->  00:03:07,151
So this is called "budget_expenses_percentage".
59

59

00:03:07,151  -->  00:03:08,687
And copy this as well
60

60

00:03:08,687  -->  00:03:12,020
and now percentageLabel.
61

61

00:03:15,913  -->  00:03:17,739
And now we're ready to use this.
62

62

00:03:17,739  -->  00:03:21,120
So remember we store all of these class names
63

63

00:03:21,120  -->  00:03:24,707
here in this central object that we have here
64

64

00:03:24,707  -->  00:03:26,082
so that we don't have all of these
65

65

00:03:26,082  -->  00:03:27,963
class names here floating around
66

66

00:03:27,963  -->  00:03:30,729
in all of these methods, okay?
67

67

00:03:30,729  -->  00:03:33,203
And so if something changes in the user interface
68

68

00:03:33,203  -->  00:03:36,821
you can simply come here and update all of these class names
69

69

00:03:36,821  -->  00:03:37,738
if we want.
70

70

00:03:38,742  -->  00:03:41,877
So this makes our lives as programmers much easier
71

71

00:03:41,877  -->  00:03:44,544
having these kind of structures.
72

72

00:03:45,549  -->  00:03:48,818
Okay now we already know how to display all of these values
73

73

00:03:48,818  -->  00:03:50,651
on our webpage, right?
74

74

00:03:51,779  -->  00:03:54,275
So we have done this a lot of time.
75

75

00:03:54,275  -->  00:03:57,608
So we use document.queryselector
76

76

00:03:58,482  -->  00:04:02,476
and then (DOMstrings.budgetLabel)
77

77

00:04:02,476  -->  00:04:04,056
which is the first one.
78

78

00:04:04,056  -->  00:04:07,019
And then in this case we don't want to change the html
79

79

00:04:07,019  -->  00:04:09,053
but only the text content.
80

80

00:04:09,053  -->  00:04:12,136
So we say textContent, okay?
81

81

00:04:13,264  -->  00:04:16,738
And now this should be equal to the budget
82

82

00:04:16,738  -->  00:04:20,034
and this budget comes here from the object
83

83

00:04:20,034  -->  00:04:22,067
that we pass into this method.
84

84

00:04:22,067  -->  00:04:27,018
So obj.budget
85

85

00:04:27,018  -->  00:04:28,499
and that's it.
86

86

00:04:28,499  -->  00:04:31,042
And now I'm just going to duplicate this line
87

87

00:04:31,042  -->  00:04:34,046
because we already know how to do this, right?
88

88

00:04:34,046  -->  00:04:36,528
So now I just need to replace a couple of things here
89

89

00:04:36,528  -->  00:04:38,462
to make it work.
90

90

00:04:38,462  -->  00:04:41,781
So the incomeLabel, right,
91

91

00:04:41,781  -->  00:04:44,934
and now we need to know the name of the property
92

92

00:04:44,934  -->  00:04:47,707
where the total income is actually stored.
93

93

00:04:47,707  -->  00:04:51,193
So let's go back to where we generate this object.
94

94

00:04:51,193  -->  00:04:53,964
So remember it's here in the getbudget method.
95

95

00:04:53,964  -->  00:04:56,740
So this is where we create the object
96

96

00:04:56,740  -->  00:04:59,763
that's going to be returned to the app controller
97

97

00:04:59,763  -->  00:05:03,874
which then passes it into the displayBudget method
98

98

00:05:03,874  -->  00:05:06,201
that we're working on right now.
99

99

00:05:06,201  -->  00:05:10,368
Let me just copy this so that I have the names here, okay?
100

100

00:05:13,474  -->  00:05:16,891
So, this one is call totalInc,
101

101

00:05:19,482  -->  00:05:22,232
totalInc,
102

102

00:05:23,125  -->  00:05:25,894
and here is the expensesLabel, right?
103

103

00:05:25,894  -->  00:05:29,962
And this one is called, as we see, totalExp
104

104

00:05:29,962  -->  00:05:31,663
just going to copy it.
105

105

00:05:31,663  -->  00:05:35,707
And then here this one is called percentageLabel
106

106

00:05:35,707  -->  00:05:38,927
and this should be percentageLabel.
107

107

00:05:38,927  -->  00:05:41,811
Let me change it in both places.
108

108

00:05:41,811  -->  00:05:42,644
Okay.
109

109

00:05:43,876  -->  00:05:46,050
And now this one is simply called percentage.
110

110

00:05:46,050  -->  00:05:48,633
So I'll copy and paste.
111

111

00:05:51,585  -->  00:05:53,165
And now before we can see this in action
112

112

00:05:53,165  -->  00:05:56,926
we need to of course call this method here, right?
113

113

00:05:56,926  -->  00:05:58,704
And also add this comma.
114

114

00:05:58,704  -->  00:06:00,925
Okay, so displayBudget is the method
115

115

00:06:00,925  -->  00:06:02,811
that we're going to call.
116

116

00:06:02,811  -->  00:06:04,021
Oh yeah it's here.
117

117

00:06:04,021  -->  00:06:06,385
So before we have this console.log here
118

118

00:06:06,385  -->  00:06:08,886
which we don't need anymore.
119

119

00:06:08,886  -->  00:06:11,305
And so now we use the UICtrl
120

120

00:06:11,305  -->  00:06:14,282
to call the displayBudget method.
121

121

00:06:14,282  -->  00:06:17,222
And now what we have to pass in here is the object
122

122

00:06:17,222  -->  00:06:19,841
that we called budget, right?
123

123

00:06:19,841  -->  00:06:21,701
So this object here.
124

124

00:06:21,701  -->  00:06:24,306
Which is, as I showed you a couple of moments ago,
125

125

00:06:24,306  -->  00:06:27,937
the object that is returned from the getBudget method.
126

126

00:06:27,937  -->  00:06:31,520
Okay and now we're ready to check this out.
127

127

00:06:35,104  -->  00:06:39,187
So project 1500 and alright.
128

128

00:06:40,112  -->  00:06:41,720
It works.
129

129

00:06:41,720  -->  00:06:45,062
So the budget is 1500, our income is 1500,
130

130

00:06:45,062  -->  00:06:47,326
and our expenses are zero.
131

131

00:06:47,326  -->  00:06:49,262
Let's now add another one,
132

132

00:06:49,262  -->  00:06:52,623
salary let's say, 2550
133

133

00:06:52,623  -->  00:06:54,728
and now it should be 4,000, right?
134

134

00:06:54,728  -->  00:06:55,926
So let's see.
135

135

00:06:55,926  -->  00:06:57,132
And yes it is.
136

136

00:06:57,132  -->  00:06:59,715
So it updated very nicely here.
137

137

00:07:00,788  -->  00:07:03,925
And now I'm going to add an expense as well
138

138

00:07:03,925  -->  00:07:08,107
and I'm going to call it holiday again for 1200.
139

139

00:07:08,107  -->  00:07:11,250
And it works, so we see 1200 here
140

140

00:07:11,250  -->  00:07:14,390
and our budget which is now 2800
141

141

00:07:14,390  -->  00:07:17,710
and then the percentage here is also correct.
142

142

00:07:17,710  -->  00:07:20,729
So with this holiday here we now know that we spent
143

143

00:07:20,729  -->  00:07:24,416
30% of the money that we made in this month.
144

144

00:07:24,416  -->  00:07:28,188
Now we don't only want this to be 30 here right?
145

145

00:07:28,188  -->  00:07:30,851
So let's add the percentage sign here.
146

146

00:07:30,851  -->  00:07:33,649
And actually there's another thing that we have to do.
147

147

00:07:33,649  -->  00:07:37,816
So let's reload this and let's simply add an income.
148

148

00:07:41,685  -->  00:07:43,916
So now we have minus 1%
149

149

00:07:43,916  -->  00:07:47,109
and we don't want the user to see minus 1% right
150

150

00:07:47,109  -->  00:07:49,789
because that doesn't make any sense at all.
151

151

00:07:49,789  -->  00:07:52,526
So we need to be prepared for this case
152

152

00:07:52,526  -->  00:07:54,533
and display something else there.
153

153

00:07:54,533  -->  00:07:56,513
So let's do this.
154

154

00:07:56,513  -->  00:07:59,930
So back to the displayBudget method here.
155

155

00:08:01,870  -->  00:08:04,609
We basically need an if else statement here right?
156

156

00:08:04,609  -->  00:08:06,329
So we say if there is a percentage,
157

157

00:08:06,329  -->  00:08:08,149
so if it's not minus one,
158

158

00:08:08,149  -->  00:08:10,432
then we want to add the percentage sign.
159

159

00:08:10,432  -->  00:08:13,968
So if it's 30 we want to display 30%,
160

160

00:08:13,968  -->  00:08:16,072
but if it's minus one we simply want to
161

161

00:08:16,072  -->  00:08:18,633
display something else.
162

162

00:08:18,633  -->  00:08:22,877
So let's say if obj.percentage
163

163

00:08:22,877  -->  00:08:25,149
is greater than zero
164

164

00:08:25,149  -->  00:08:28,186
then we want this to happen here.
165

165

00:08:28,186  -->  00:08:30,852
Let me cut this from here and paste it here.
166

166

00:08:30,852  -->  00:08:33,321
So we want this object percentage
167

167

00:08:33,321  -->  00:08:36,904
plus the percentage sign, right?
168

168

00:08:39,634  -->  00:08:44,133
But if it's not we want something else.
169

169

00:08:44,133  -->  00:08:47,382
So we don't want to see the percentage value here,
170

170

00:08:47,382  -->  00:08:49,771
but we want to see something that shows us
171

171

00:08:49,771  -->  00:08:52,281
that there is nothing to show actually.
172

172

00:08:52,281  -->  00:08:55,534
So let's put simply some of these dashes.
173

173

00:08:55,534  -->  00:08:58,046
And so this shows that it's empty.
174

174

00:08:58,046  -->  00:09:00,263
And notice that this is not only going to happen
175

175

00:09:00,263  -->  00:09:02,215
when the percentage is minus one,
176

176

00:09:02,215  -->  00:09:04,051
but also when it's zero, right?
177

177

00:09:04,051  -->  00:09:06,451
Because in here we said greater than zero.
178

178

00:09:06,451  -->  00:09:08,179
So this only happens,
179

179

00:09:08,179  -->  00:09:10,048
so this percentage is only shown
180

180

00:09:10,048  -->  00:09:12,594
if the percentage is greater than zero
181

181

00:09:12,594  -->  00:09:14,131
and not if it's greater or equal.
182

182

00:09:14,131  -->  00:09:16,204
But that's totally okay.
183

183

00:09:16,204  -->  00:09:18,537
So let's see that in action.
184

184

00:09:22,511  -->  00:09:25,011
So I'm going to add a holiday.
185

185

00:09:25,864  -->  00:09:29,917
So 1200 and yeah, now we have these three dashes
186

186

00:09:29,917  -->  00:09:32,751
that we had before, cool right?
187

187

00:09:32,751  -->  00:09:35,168
Let's now add a salary for us
188

188

00:09:36,776  -->  00:09:39,898
of 2400 and now we see
189

189

00:09:39,898  -->  00:09:42,552
that we spent 50%.
190

190

00:09:42,552  -->  00:09:45,195
So now it's working really good.
191

191

00:09:45,195  -->  00:09:48,468
Only one small thing that we can improve now is
192

192

00:09:48,468  -->  00:09:50,147
you see when we reload this
193

193

00:09:50,147  -->  00:09:52,822
then we have these weird numbers here
194

194

00:09:52,822  -->  00:09:55,381
that we obviously don't want, right?
195

195

00:09:55,381  -->  00:09:58,685
So remember there's something that runs each time
196

196

00:09:58,685  -->  00:10:00,677
that our application starts
197

197

00:10:00,677  -->  00:10:03,006
and do you remember what that is?
198

198

00:10:03,006  -->  00:10:05,667
Yes, it is the init function.
199

199

00:10:05,667  -->  00:10:08,433
So, we cannot only call
200

200

00:10:08,433  -->  00:10:10,511
this method that we just created
201

201

00:10:10,511  -->  00:10:12,730
each time that we input a new item,
202

202

00:10:12,730  -->  00:10:15,115
but we can call it right in the beginning
203

203

00:10:15,115  -->  00:10:17,812
when we start to run our application.
204

204

00:10:17,812  -->  00:10:19,979
So let's copy this
205

205

00:10:21,298  -->  00:10:22,715
and then
206

206

00:10:24,282  -->  00:10:28,605
say that we want to run this right in the beginning.
207

207

00:10:28,605  -->  00:10:30,617
Now the thing is that we don't want to pass
208

208

00:10:30,617  -->  00:10:32,703
the budget in here, right?
209

209

00:10:32,703  -->  00:10:36,056
Because what we want is basically do a reset everything.
210

210

00:10:36,056  -->  00:10:39,220
So we want everything to be set to zero.
211

211

00:10:39,220  -->  00:10:40,529
So what we need to pass here is
212

212

00:10:40,529  -->  00:10:43,105
actually an object similar to the budget object,
213

213

00:10:43,105  -->  00:10:46,301
but with everything set to zero.
214

214

00:10:46,301  -->  00:10:50,468
So let's just grab the object from up here, okay,
215

215

00:10:53,215  -->  00:10:54,792
and put everything to zero.
216

216

00:10:54,792  -->  00:10:56,499
So very simple.
217

217

00:10:56,499  -->  00:10:59,749
So back to our init function okay here.
218

218

00:11:00,778  -->  00:11:05,337
Let's pass this object, but we set everything to zero.
219

219

00:11:05,337  -->  00:11:08,013
So the budget is zero, the total income is zero,
220

220

00:11:08,013  -->  00:11:11,682
the total expense is zero, and the percentage is
221

221

00:11:11,682  -->  00:11:13,599
not zero but minus one.
222

222

00:11:15,014  -->  00:11:17,022
So there's no percentage at all.
223

223

00:11:17,022  -->  00:11:19,003
So let's check this now.
224

224

00:11:19,003  -->  00:11:22,331
So when we reload everything should be set to zero, right,
225

225

00:11:22,331  -->  00:11:23,554
and yes here it is.
226

226

00:11:23,554  -->  00:11:26,166
So no budget, no income, no expenses,
227

227

00:11:26,166  -->  00:11:28,851
and no percentage to show.
228

228

00:11:28,851  -->  00:11:31,517
Okay, and with this we have actually finished
229

229

00:11:31,517  -->  00:11:33,161
everything that we had planned
230

230

00:11:33,161  -->  00:11:36,573
for the first step of building this application
231

231

00:11:36,573  -->  00:11:39,253
and it already looks pretty cool right?
232

232

00:11:39,253  -->  00:11:41,563
So great work so far.
233

233

00:11:41,563  -->  00:11:44,453
So we can now already do a lot of stuff with this,
234

234

00:11:44,453  -->  00:11:46,018
but there are actually still
235

235

00:11:46,018  -->  00:11:48,773
a lot of more cool features coming up
236

236

00:11:48,773  -->  00:11:50,773
over the next lectures.
                                                                                                                                                                                                                                                                                                                                                                ué8_ıJì§‰GóæÚT¸ŞŒ,Ô |ÕSÓ­Në´-ÍÛÃ?ì0šM:~õªªmğ:“Ù¸›·7o®éS©U9wÏPßµ´:sØäæÀâ¡Åã¦æ'ùª×7?X›˜7u\ÉĞE¶M.Ì¨^z×`eÆİ;³&¼‰¾®òiƒRv+Ÿ"üAñ~ÅñyJ2;ã7’P4œtF¦9>î¸ùešOœC×«KŸ:+€G=œúØ”IØ"ÜÃpÁH÷0Ä!2Mœ¼²œ$6ñc`Z!¦^©šf‰°	›wJ½Ù$íÿ°½yË4«Ó’Ö›MÛ,* 6A {×úæ‡j}	ù„M‹×|›`)Ùº’œÜ¯l¹p†udÁéz,5|sß\™IÖdö‹®ÆôÃÿu£T
+5Fº–¤»UÀÿ}EãĞxøŸÄ‰ğ¿)ä?]¦¢JPæ;Ğè.XsZOÁMŸ‚ƒuY¨tDÉğáÓ+/ª±˜´ölŸÂÁy Ë‘“X‚ÒDŒ§4¨¨h-PĞs@ c@ºLd@(HTT´¨	è9  Ğ1 Î]&Œ’€<@Ù@
Ğ8  z µ@M@Ï€}tèrwtC°İ<Û×§îíSOèSï×§Ú§Ñ§Ù§1
1

00:00:01,292  -->  00:00:02,741
<v Jonas>Welcome back.</v>
2

2

00:00:02,741  -->  00:00:04,102
In this video you're going to learn
3

3

00:00:04,102  -->  00:00:05,776
how to mutate variables
4

4

00:00:05,776  -->  00:00:10,508
and also how and why JavaScript does type coercion.
5

5

00:00:10,508  -->  00:00:12,614
But before we talk about any of that,
6

6

00:00:12,614  -->  00:00:15,067
I want to show you something else that we also have
7

7

00:00:15,067  -->  00:00:17,335
in any programming language in the world,
8

8

00:00:17,335  -->  00:00:18,864
and that is comments.
9

9

00:00:18,864  -->  00:00:22,672
So with comments we can really comment, like piece of code
10

10

00:00:22,672  -->  00:00:25,125
and describe what they do.
11

11

00:00:25,125  -->  00:00:27,591
Okay, so let's try it out and in JavaScript
12

12

00:00:27,591  -->  00:00:29,057
there are two types of comments.
13

13

00:00:29,057  -->  00:00:31,100
There are single line comments,
14

14

00:00:31,100  -->  00:00:32,742
and we work them just like this,
15

15

00:00:32,742  -->  00:00:34,359
and also multi line comments,
16

16

00:00:34,359  -->  00:00:36,879
and I'm going to show you in a second how they work.
17

17

00:00:36,879  -->  00:00:40,226
But with single lines we simply write // like this,
18

18

00:00:40,226  -->  00:00:43,558
and then we can do any text that we want after that.
19

19

00:00:43,558  -->  00:00:45,876
So in here I'm simple going to write
20

20

00:00:45,876  -->  00:00:49,293
that these are the variable naming rules.
21

21

00:00:50,869  -->  00:00:53,098
Okay, because that's actually what I did
22

22

00:00:53,098  -->  00:00:55,176
here in these lines of code.
23

23

00:00:55,176  -->  00:00:57,757
So I showed you how we have to name our variables.
24

24

00:00:57,757  -->  00:01:00,280
And so now with this comment here I can very simply
25

25

00:01:00,280  -->  00:01:03,938
describe that this is what we did here.
26

26

00:01:03,938  -->  00:01:06,592
Okay, we can also do multi line comment
27

27

00:01:06,592  -->  00:01:11,592
and that is /* and then * and / again.
28

28

00:01:11,701  -->  00:01:13,179
And then on multiple lines,
29

29

00:01:13,179  -->  00:01:17,130
and everything we put here in between will be a comment.
30

30

00:01:17,130  -->  00:01:19,561
So one line of comments, two lines,
31

31

00:01:19,561  -->  00:01:21,624
and so on and so forth.
32

32

00:01:21,624  -->  00:01:24,827
Okay, and here I'm going to use this multi line comment
33

33

00:01:24,827  -->  00:01:26,418
to say that this lecture here
34

34

00:01:26,418  -->  00:01:29,335
was about variables and data types.
35

35

00:01:30,250  -->  00:01:35,095
So variables and data types and this is also a comment
36

36

00:01:35,095  -->  00:01:38,891
like pattern where it then adds some asterisks here
37

37

00:01:38,891  -->  00:01:43,590
just like this, basically just to separate these lectures.
38

38

00:01:43,590  -->  00:01:47,343
Okay, so variables and data types, that was the last lecture
39

39

00:01:47,343  -->  00:01:49,135
and now in this lecture we will have
40

40

00:01:49,135  -->  00:01:52,135
variable mutation and type coercion.
41

41

00:01:56,120  -->  00:01:59,281
Alright, now just in order to get rid of this code here
42

42

00:01:59,281  -->  00:02:02,030
so that it doesn't get in my way I can also comment out
43

43

00:02:02,030  -->  00:02:04,832
this entire piece of code, just like I did before.
44

44

00:02:04,832  -->  00:02:07,110
So that's another common use case of comments,
45

45

00:02:07,110  -->  00:02:09,867
is where you basically comment out some code
46

46

00:02:09,867  -->  00:02:13,065
that you don't want to get in your way for some time.
47

47

00:02:13,065  -->  00:02:14,468
Okay, and so now I commented it
48

48

00:02:14,468  -->  00:02:16,686
and now it will no longer be executed.
49

49

00:02:16,686  -->  00:02:19,058
So I can reload this now and then we don't have anything
50

50

00:02:19,058  -->  00:02:22,212
logged to our console because all of this here is gray,
51

51

00:02:22,212  -->  00:02:25,095
and so it's really commented out.
52

52

00:02:25,095  -->  00:02:29,793
Okay, anyway let's continue with our persons example here
53

53

00:02:29,793  -->  00:02:33,183
and learn all about variable mutation and type coercion.
54

54

00:02:33,183  -->  00:02:36,732
Okay, so I'm going to reuse some of these variables,
55

55

00:02:36,732  -->  00:02:38,982
so firstName is still John,
56

56

00:02:42,270  -->  00:02:46,914
and has also defined the age as being 28 again.
57

57

00:02:46,914  -->  00:02:50,780
So we have here two different data types, string and number,
58

58

00:02:50,780  -->  00:02:52,837
but let's see what happens if we want to print
59

59

00:02:52,837  -->  00:02:55,540
them together to the console.
60

60

00:02:55,540  -->  00:02:58,992
Okay, so let's give it some space here,
61

61

00:02:58,992  -->  00:03:02,441
I prefer when this text here is a bit more at the top.
62

62

00:03:02,441  -->  00:03:06,524
So console.log and so let's basically do a string
63

63

00:03:08,013  -->  00:03:10,430
which contains John space 28.
64

64

00:03:12,244  -->  00:03:15,061
Okay, so we can say firstName,
65

65

00:03:15,061  -->  00:03:16,721
then we can use the + symbol,
66

66

00:03:16,721  -->  00:03:18,126
and we're going to explain to you later
67

67

00:03:18,126  -->  00:03:19,503
that this is an operator,
68

68

00:03:19,503  -->  00:03:21,624
so for now let's just simply use this here
69

69

00:03:21,624  -->  00:03:23,540
to join these strings.
70

70

00:03:23,540  -->  00:03:28,540
Then we can do a space and then another + to add the age.
71

71

00:03:29,325  -->  00:03:31,907
Okay, so we are hoping that this here will then become
72

72

00:03:31,907  -->  00:03:34,324
John space 28 to the console.
73

73

00:03:35,254  -->  00:03:37,066
Okay, so let's check that out.
74

74

00:03:37,066  -->  00:03:39,316
And indeed we have John 28.
75

75

00:03:40,249  -->  00:03:43,033
So, how did this work, because remember that age here
76

76

00:03:43,033  -->  00:03:45,548
is actually a number and not really a string
77

77

00:03:45,548  -->  00:03:48,428
but still it logged it here as a string
78

78

00:03:48,428  -->  00:03:50,931
in this entire John 28 string.
79

79

00:03:50,931  -->  00:03:54,589
And so this works thanks to something called type coercion.
80

80

00:03:54,589  -->  00:03:57,421
Okay, so what this means is that JavaScript
81

81

00:03:57,421  -->  00:03:59,379
automatically converts types
82

82

00:03:59,379  -->  00:04:01,435
from one another as it's needed.
83

83

00:04:01,435  -->  00:04:04,718
And in this specific case it converted this number here
84

84

00:04:04,718  -->  00:04:08,428
to a string in order to be able to join these three strings.
85

85

00:04:08,428  -->  00:04:11,346
So John is a string, then the space here is also a string,
86

86

00:04:11,346  -->  00:04:14,786
and then age the number will automatically be converted
87

87

00:04:14,786  -->  00:04:17,754
by JavaScript also into a string so that it can then
88

88

00:04:17,754  -->  00:04:20,622
join all of this string into one bigger string.
89

89

00:04:20,622  -->  00:04:23,068
And so automatically JavaScript does this work
90

90

00:04:23,068  -->  00:04:25,893
for us here by a process called type coercion.
91

91

00:04:25,893  -->  00:04:28,494
And other programming languages are not like this
92

92

00:04:28,494  -->  00:04:30,665
we would have to convert our variables
93

93

00:04:30,665  -->  00:04:31,984
but JavaScript is easier,
94

94

00:04:31,984  -->  00:04:33,850
it takes all that work away from us,
95

95

00:04:33,850  -->  00:04:36,245
and does it automatically.
96

96

00:04:36,245  -->  00:04:37,921
And joining strings like this here
97

97

00:04:37,921  -->  00:04:41,450
is just one of many examples of type coercion
98

98

00:04:41,450  -->  00:04:43,443
that we will encounter throughout the course.
99

99

00:04:43,443  -->  00:04:46,822
So type coercion here happens all the time in JavaScript.
100

100

00:04:46,822  -->  00:04:48,997
Alright, let's now try out another example
101

101

00:04:48,997  -->  00:04:51,574
here with joining strings
102

102

00:04:51,574  -->  00:04:54,299
and so let's create some more variables.
103

103

00:04:54,299  -->  00:04:56,899
So, job, and now I'm going to show you something different
104

104

00:04:56,899  -->  00:04:59,311
which is basically to declare many variables
105

105

00:04:59,311  -->  00:05:03,618
on the same line and then define them later on.
106

106

00:05:03,618  -->  00:05:07,356
So, job to say Johns job, and then we can also define
107

107

00:05:07,356  -->  00:05:09,976
a variable called isMarried.
108

108

00:05:09,976  -->  00:05:13,239
So, basically like marriage status saying true or false
109

109

00:05:13,239  -->  00:05:15,897
whether he is married or not.
110

110

00:05:15,897  -->  00:05:18,647
And now we can say job is teacher
111

111

00:05:21,617  -->  00:05:24,367
and then that isMarried is false.
112

112

00:05:27,181  -->  00:05:30,015
Okay, so we declared both of these variables here
113

113

00:05:30,015  -->  00:05:32,070
and they are then undefined, remember.
114

114

00:05:32,070  -->  00:05:33,889
So that's what we had here,
115

115

00:05:33,889  -->  00:05:36,691
so I declared the variable here, job in this case,
116

116

00:05:36,691  -->  00:05:38,382
and it was then undefined, remember,
117

117

00:05:38,382  -->  00:05:40,789
and only later in this line here I then assigned
118

118

00:05:40,789  -->  00:05:42,595
a value to that variable.
119

119

00:05:42,595  -->  00:05:44,732
So that's exact same thing that we do here,
120

120

00:05:44,732  -->  00:05:47,504
so here we declare multiple variables on the same line
121

121

00:05:47,504  -->  00:05:51,532
then I assign values to them here in these different lines.
122

122

00:05:51,532  -->  00:05:54,311
Okay, and so that's also actually like a common practice,
123

123

00:05:54,311  -->  00:05:57,194
in case we wanted to declare many variables,
124

124

00:05:57,194  -->  00:05:59,327
it's a bit cleaner to do it like this,
125

125

00:05:59,327  -->  00:06:00,568
all in one line and then simply
126

126

00:06:00,568  -->  00:06:03,021
assign them the values a bit later.
127

127

00:06:03,021  -->  00:06:05,820
Now what happens if we want to log to the console